{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useSearchParams}from'react-router-dom';import{toast,ToastContainer}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import api from'../services/api';// Simple standalone loading spinner for the booking page\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookingLoadingSpinner=_ref=>{let{color='#4f46e5'}=_ref;return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',height:'100vh',width:'100%'},children:[/*#__PURE__*/_jsx(\"div\",{style:{border:'4px solid #f3f3f3',borderTop:`4px solid ${color}`,borderRadius:'50%',width:'40px',height:'40px',animation:'spin 1s linear infinite'}}),/*#__PURE__*/_jsx(\"style\",{children:`\n      @keyframes spin {\n        0% { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n      }\n    `})]});};const BookingPage=_ref2=>{let{standalone=false}=_ref2;const[searchParams]=useSearchParams();const businessId=searchParams.get('businessId')||'default';// Business info - in a real implementation, this would be fetched based on businessId\nconst[businessInfo,setBusinessInfo]=useState({name:'Venue Booking',primaryColor:'#2563eb',description:'Book community venues for your next event'});const[loading,setLoading]=useState(true);const[venues,setVenues]=useState([]);const[filteredVenues,setFilteredVenues]=useState([]);const[step,setStep]=useState(1);const[submitting,setSubmitting]=useState(false);const[searchQuery,setSearchQuery]=useState('');const[availableTimeSlots,setAvailableTimeSlots]=useState([]);const[bookingConfig,setBookingConfig]=useState({title:'Book a Venue',subtitle:'Find and book the perfect venue for your event',confirmationMessage:'Your venue booking has been confirmed. You will receive a confirmation email shortly.'});const[formData,setFormData]=useState({venueId:'',name:'',email:'',phone:'',date:'',time:'',duration:2,// Default duration in hours\nattendees:'',eventType:'',notes:''});// Load business info and venues\nuseEffect(()=>{const fetchData=async()=>{try{// DEMO VENUES for testing\nconst DEMO_VENUES=[{_id:'venue-1',title:'Queenstown Memorial Hall',description:'Large community hall with stage and seating for up to 400 people. Perfect for performances, conferences, and large gatherings.',price:{amount:150.00,currency:'NZD'},minDuration:1,maxDuration:12,capacity:400,location:'Queenstown CBD',features:['Stage','Sound System','Projector','Kitchen','Wheelchair Access'],imageUrl:'https://placehold.co/400x300?text=Memorial+Hall'},{_id:'venue-2',title:'Lake Hayes Pavilion',description:'Scenic venue with lake views, ideal for weddings, celebrations and community events. Includes outdoor area.',price:{amount:120.00,currency:'NZD'},minDuration:2,maxDuration:24,capacity:150,location:'Lake Hayes',features:['Lake Views','Kitchen','Outdoor Area','Tables & Chairs','Parking'],imageUrl:'https://placehold.co/400x300?text=Lake+Hayes'},{_id:'venue-3',title:'Arrowtown Community Centre',description:'Charming venue in historic Arrowtown suitable for meetings, small events and classes.',price:{amount:80.00,currency:'NZD'},minDuration:1,maxDuration:8,capacity:100,location:'Arrowtown',features:['Meeting Rooms','Kitchen','Projector','Whiteboard','Wifi'],imageUrl:'https://placehold.co/400x300?text=Arrowtown+Centre'},{_id:'venue-4',title:'Wanaka Recreation Centre',description:'Modern sports facility with various rooms and spaces for sports events, classes, and community activities.',price:{amount:100.00,currency:'NZD'},minDuration:1,maxDuration:10,capacity:300,location:'Wanaka',features:['Sports Hall','Meeting Rooms','AV Equipment','Changing Rooms','Parking'],imageUrl:'https://placehold.co/400x300?text=Wanaka+Centre'}];// Set demo venues\nsetVenues(DEMO_VENUES);setFilteredVenues(DEMO_VENUES);// Simulate booking page configuration loading\n// In a real app, this would be: const configResponse = await api.getBookingPageConfig(businessId);\n// Parse URL params for config in demo mode\nconst title=searchParams.get('title')||'Book a Venue';const subtitle=searchParams.get('subtitle')||'Find and book the perfect venue for your event';const primaryColor=searchParams.get('color')||'#2563eb';// Update business info\nsetBusinessInfo(prev=>({...prev,primaryColor:primaryColor}));// Update booking config\nsetBookingConfig({title:decodeURIComponent(title),subtitle:decodeURIComponent(subtitle),confirmationMessage:'Your venue booking has been confirmed. You will receive a confirmation email shortly.'});// Generate demo time slots for today\ngenerateDemoTimeSlots();}catch(error){console.error('Error fetching booking data:',error);toast.error('Could not load venues. Please try again later.');}finally{setLoading(false);}};// Generate demo time slots for a given date\nconst generateDemoTimeSlots=()=>{const slots=[];const startHour=8;// 8 AM\nconst endHour=20;// 8 PM\nfor(let hour=startHour;hour<=endHour;hour++){// Random availability (70% chance of being available)\nconst isAvailable=Math.random()>0.3;if(isAvailable){slots.push({time:`${hour.toString().padStart(2,'0')}:00`,available:true});// Add half-hour slot\nif(hour<endHour){slots.push({time:`${hour.toString().padStart(2,'0')}:30`,available:Math.random()>0.3});}}}setAvailableTimeSlots(slots);};fetchData();},[businessId]);// Filter venues based on search query\nuseEffect(()=>{if(!searchQuery.trim()){setFilteredVenues(venues);return;}const query=searchQuery.toLowerCase();const filtered=venues.filter(venue=>venue.title.toLowerCase().includes(query)||venue.description.toLowerCase().includes(query)||venue.location.toLowerCase().includes(query)||venue.features.some(feature=>feature.toLowerCase().includes(query)));setFilteredVenues(filtered);},[searchQuery,venues]);const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));// When date changes, generate new available slots\nif(name==='date'){// In a real app, this would fetch from the backend\n// For demo, we'll just generate random slots\nconst slots=[];const startHour=8;// 8 AM\nconst endHour=20;// 8 PM\nfor(let hour=startHour;hour<=endHour;hour++){// Random availability (70% chance of being available)\nconst isAvailable=Math.random()>0.3;if(isAvailable){slots.push({time:`${hour.toString().padStart(2,'0')}:00`,available:true});// Add half-hour slot\nif(hour<endHour){slots.push({time:`${hour.toString().padStart(2,'0')}:30`,available:Math.random()>0.3});}}}setAvailableTimeSlots(slots);}};const handleSearchChange=e=>{setSearchQuery(e.target.value);};const selectVenue=venueId=>{const venue=venues.find(v=>v._id===venueId);setFormData(prev=>({...prev,venueId,duration:(venue===null||venue===void 0?void 0:venue.minDuration)||2}));};const nextStep=()=>{if(step===1&&!formData.venueId){toast.error('Please select a venue to continue');return;}if(step===2&&(!formData.name||!formData.email)){toast.error('Please provide your name and email');return;}if(step===3&&(!formData.date||!formData.time)){toast.error('Please select a date and time for your booking');return;}setStep(prev=>prev+1);};const prevStep=()=>{setStep(prev=>prev-1);};const handleSubmit=async e=>{e.preventDefault();setSubmitting(true);try{var _customerResponse$dat;// Format date and time for API\nconst startTime=new Date(`${formData.date}T${formData.time}`);const venue=venues.find(v=>v._id===formData.venueId);const durationHours=formData.duration||2;// Default to 2 hours\nconst endTime=new Date(startTime.getTime()+durationHours*60*60*1000);// First create or get customer\nconst customerData={name:formData.name,email:formData.email,phone:formData.phone};const customerResponse=await api.createOrUpdateCustomer(customerData);const customerId=(_customerResponse$dat=customerResponse.data.customer)===null||_customerResponse$dat===void 0?void 0:_customerResponse$dat._id;if(!customerId){throw new Error('Failed to create customer record');}// Create the booking\nconst bookingData={venueId:formData.venueId,client:customerId,businessId:businessId,startTime:startTime.toISOString(),endTime:endTime.toISOString(),eventType:formData.eventType,expectedAttendees:formData.attendees,notes:{client:formData.notes},status:'pending',source:'booking_page'};await api.createBooking(bookingData);// Move to success screen\nsetStep(4);}catch(error){var _error$response,_error$response$data;console.error('Error creating booking:',error);toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Failed to book venue');}finally{setSubmitting(false);}};if(loading){return/*#__PURE__*/_jsx(BookingLoadingSpinner,{color:businessInfo.primaryColor});}// If standalone mode, use the complete page with header\nif(standalone){var _venues$find,_venues$find2,_venues$find3,_venues$find4,_venues$find5,_venues$find6;return/*#__PURE__*/_jsxs(\"div\",{className:\"standalone-booking-page\",style:{fontFamily:'sans-serif',minHeight:'100vh',backgroundColor:'#f9fafb',margin:0,padding:0,boxSizing:'border-box'},children:[/*#__PURE__*/_jsx(ToastContainer,{position:\"top-right\",autoClose:3000}),/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:businessInfo.primaryColor,padding:'20px 0',color:'white',textAlign:'center',borderBottom:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{margin:'0',fontSize:'24px',fontWeight:'600'},children:businessInfo.name}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'5px 0 0 0',fontSize:'16px',opacity:0.9},children:businessInfo.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"booking-page-container\",style:{maxWidth:'800px',margin:'0 auto',padding:'20px',fontFamily:'sans-serif'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"booking-header\",style:{textAlign:'center',marginBottom:'30px'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:'#374151',fontSize:'24px',marginBottom:'10px',fontWeight:'600'},children:bookingConfig.title}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#6b7280',marginBottom:'20px'},children:bookingConfig.subtitle})]}),/*#__PURE__*/_jsx(\"div\",{className:\"booking-progress\",style:{display:'flex',justifyContent:'space-between',marginBottom:'30px'},children:[1,2,3].map(stepNum=>/*#__PURE__*/_jsxs(\"div\",{style:{width:'70px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'40px',height:'40px',borderRadius:'50%',backgroundColor:step>=stepNum?businessInfo.primaryColor:'#e5e7eb',color:step>=stepNum?'#fff':'#333',display:'flex',alignItems:'center',justifyContent:'center',fontWeight:'bold',margin:'0 auto 10px'},children:stepNum}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px'},children:stepNum===1?'Venue':stepNum===2?'Information':'Schedule'})]},stepNum))}),/*#__PURE__*/_jsxs(\"div\",{className:\"booking-card\",style:{backgroundColor:'white',borderRadius:'8px',boxShadow:'0 4px 6px rgba(0, 0, 0, 0.1)',padding:'30px'},children:[step===1&&/*#__PURE__*/_jsxs(\"div\",{className:\"booking-step\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{marginBottom:'20px',fontSize:'20px'},children:\"Find a Venue\"}),/*#__PURE__*/_jsx(\"div\",{className:\"search-box\",style:{marginBottom:'20px'},children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search venues by name, location, or features...\",value:searchQuery,onChange:handleSearchChange,style:{width:'100%',padding:'12px 16px',borderRadius:'6px',border:'1px solid #d1d5db',fontSize:'16px',boxSizing:'border-box'}})}),/*#__PURE__*/_jsx(\"div\",{className:\"venues-list-container\",style:{marginBottom:'20px',border:'1px solid #e5e7eb',borderRadius:'8px',padding:'5px',backgroundColor:'#f9fafb'},children:/*#__PURE__*/_jsx(\"div\",{className:\"venues-list\",style:{maxHeight:'500px',overflowY:'auto',paddingRight:'5px',paddingLeft:'5px'},children:filteredVenues.length===0?/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px',textAlign:'center'},children:/*#__PURE__*/_jsx(\"p\",{children:\"No venues match your search. Please try different keywords.\"})}):filteredVenues.map(venue=>{var _venue$price,_venue$price2;return/*#__PURE__*/_jsxs(\"div\",{className:\"venue-item\",style:{padding:'20px',marginBottom:'15px',border:`2px solid ${formData.venueId===venue._id?businessInfo.primaryColor:'#e5e7eb'}`,borderRadius:'8px',cursor:'pointer',backgroundColor:formData.venueId===venue._id?`${businessInfo.primaryColor}15`:'#fff',display:'flex',flexDirection:'column',gap:'12px',boxShadow:'0 1px 3px rgba(0,0,0,0.1)'},onClick:()=>selectVenue(venue._id),children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'15px',flexWrap:'nowrap'},children:[venue.imageUrl&&/*#__PURE__*/_jsx(\"div\",{style:{minWidth:'120px',maxWidth:'120px'},children:/*#__PURE__*/_jsx(\"img\",{src:venue.imageUrl,alt:venue.title,style:{width:'120px',height:'90px',objectFit:'cover',borderRadius:'4px'}})}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:'1 1 auto',minWidth:0// Required for text truncation to work\n},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 5px 0',fontSize:'18px',fontWeight:'600',color:'#111827'},children:venue.title}),/*#__PURE__*/_jsxs(\"span\",{style:{fontWeight:'bold',color:businessInfo.primaryColor,whiteSpace:'nowrap',marginLeft:'8px'},children:[\"$\",((_venue$price=venue.price)===null||_venue$price===void 0?void 0:_venue$price.amount)||0,\"/\",(_venue$price2=venue.price)===null||_venue$price2===void 0?void 0:_venue$price2.currency,\" per hour\"]})]}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'5px 0 10px',fontSize:'14px',color:'#4b5563',overflow:'hidden',textOverflow:'ellipsis',display:'-webkit-box',WebkitLineClamp:2,WebkitBoxOrient:'vertical'},children:venue.description}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'14px',color:'#6b7280',display:'flex',flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{display:'inline-block',marginRight:'15px',marginBottom:'4px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location:\"}),\" \",venue.location]}),/*#__PURE__*/_jsxs(\"span\",{style:{display:'inline-block'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Capacity:\"}),\" \",venue.capacity,\" people\"]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"venue-features\",style:{display:'flex',flexWrap:'wrap',gap:'6px'},children:venue.features.map((feature,index)=>/*#__PURE__*/_jsx(\"span\",{style:{display:'inline-block',backgroundColor:'#f3f4f6',padding:'4px 10px',borderRadius:'16px',fontSize:'12px',color:'#4b5563',whiteSpace:'nowrap'},children:feature},index))})]},venue._id);})})}),/*#__PURE__*/_jsx(\"div\",{className:\"booking-actions\",style:{marginTop:'30px'},children:/*#__PURE__*/_jsx(\"button\",{onClick:nextStep,disabled:!formData.venueId||filteredVenues.length===0,style:{backgroundColor:businessInfo.primaryColor,color:'#fff',border:'none',padding:'12px 24px',borderRadius:'6px',cursor:'pointer',width:'100%',fontSize:'16px',fontWeight:'500',opacity:!formData.venueId||filteredVenues.length===0?0.6:1},children:\"Continue to Your Information\"})})]}),step===2&&/*#__PURE__*/_jsxs(\"div\",{className:\"booking-step\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{marginBottom:'20px',fontSize:'20px'},children:\"Your Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"venue-selected-info\",style:{backgroundColor:'#f9fafb',padding:'15px',borderRadius:'6px',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 10px 0',fontSize:'16px'},children:\"Selected Venue\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0',fontSize:'15px'},children:/*#__PURE__*/_jsx(\"strong\",{children:(_venues$find=venues.find(v=>v._id===formData.venueId))===null||_venues$find===void 0?void 0:_venues$find.title})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",style:{display:'flex',gap:'20px',marginBottom:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",style:{flex:1},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",style:{display:'block',marginBottom:'8px',fontWeight:'500'},children:\"Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:formData.name,onChange:handleInputChange,required:true,style:{width:'100%',padding:'10px',borderRadius:'6px',border:'1px solid #d1d5db',fontSize:'16px',boxSizing:'border-box'},placeholder:\"Your full name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",style:{flex:1},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",style:{display:'block',marginBottom:'8px',fontWeight:'500'},children:\"Email *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:formData.email,onChange:handleInputChange,required:true,style:{width:'100%',padding:'10px',borderRadius:'6px',border:'1px solid #d1d5db',fontSize:'16px',boxSizing:'border-box'},placeholder:\"Your email address\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",style:{display:'flex',gap:'20px',marginBottom:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",style:{flex:1},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",style:{display:'block',marginBottom:'8px',fontWeight:'500'},children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",id:\"phone\",name:\"phone\",value:formData.phone,onChange:handleInputChange,style:{width:'100%',padding:'10px',borderRadius:'6px',border:'1px solid #d1d5db',fontSize:'16px',boxSizing:'border-box'},placeholder:\"Your phone number\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",style:{flex:1},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"attendees\",style:{display:'block',marginBottom:'8px',fontWeight:'500'},children:\"Expected Attendees\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"attendees\",name:\"attendees\",value:formData.attendees,onChange:handleInputChange,min:\"1\",max:(_venues$find2=venues.find(v=>v._id===formData.venueId))===null||_venues$find2===void 0?void 0:_venues$find2.capacity,style:{width:'100%',padding:'10px',borderRadius:'6px',border:'1px solid #d1d5db',fontSize:'16px',boxSizing:'border-box'},placeholder:\"Number of attendees\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"eventType\",style:{display:'block',marginBottom:'8px',fontWeight:'500'},children:\"Event Type\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"eventType\",name:\"eventType\",value:formData.eventType,onChange:handleInputChange,style:{width:'100%',padding:'10px',borderRadius:'6px',border:'1px solid #d1d5db',fontSize:'16px',boxSizing:'border-box',backgroundColor:'white'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select Event Type --\"}),/*#__PURE__*/_jsx(\"option\",{value:\"conference\",children:\"Conference\"}),/*#__PURE__*/_jsx(\"option\",{value:\"wedding\",children:\"Wedding\"}),/*#__PURE__*/_jsx(\"option\",{value:\"meeting\",children:\"Meeting\"}),/*#__PURE__*/_jsx(\"option\",{value:\"cultural\",children:\"Cultural Event\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sports\",children:\"Sports Event\"}),/*#__PURE__*/_jsx(\"option\",{value:\"exhibition\",children:\"Exhibition\"}),/*#__PURE__*/_jsx(\"option\",{value:\"workshop\",children:\"Workshop\"}),/*#__PURE__*/_jsx(\"option\",{value:\"social\",children:\"Social Gathering\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Other\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"booking-actions\",style:{marginTop:'30px',display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:prevStep,style:{backgroundColor:'#f3f4f6',color:'#374151',border:'none',padding:'12px 24px',borderRadius:'6px',cursor:'pointer',width:'48%',fontSize:'16px',fontWeight:'500'},children:\"Back\"}),/*#__PURE__*/_jsx(\"button\",{onClick:nextStep,disabled:!formData.name||!formData.email,style:{backgroundColor:businessInfo.primaryColor,color:'#fff',border:'none',padding:'12px 24px',borderRadius:'6px',cursor:'pointer',width:'48%',fontSize:'16px',fontWeight:'500',opacity:!formData.name||!formData.email?0.6:1},children:\"Continue to Schedule\"})]})]}),step===3&&/*#__PURE__*/_jsxs(\"div\",{className:\"booking-step\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{marginBottom:'20px',fontSize:'20px'},children:\"Choose Date & Time\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"venue-selected-info\",style:{backgroundColor:'#f9fafb',padding:'15px',borderRadius:'6px',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 10px 0',fontSize:'16px'},children:\"Selected Venue\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0 0 5px 0',fontSize:'15px'},children:/*#__PURE__*/_jsx(\"strong\",{children:(_venues$find3=venues.find(v=>v._id===formData.venueId))===null||_venues$find3===void 0?void 0:_venues$find3.title})}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0',fontSize:'14px',color:'#6b7280'},children:(_venues$find4=venues.find(v=>v._id===formData.venueId))===null||_venues$find4===void 0?void 0:_venues$find4.location})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",style:{display:'flex',gap:'20px',marginBottom:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",style:{flex:1},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"date\",style:{display:'block',marginBottom:'8px',fontWeight:'500'},children:\"Date *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"date\",name:\"date\",value:formData.date,onChange:handleInputChange,required:true,min:new Date().toISOString().split('T')[0],style:{width:'100%',padding:'10px',borderRadius:'6px',border:'1px solid #d1d5db',fontSize:'16px',boxSizing:'border-box'}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",style:{flex:1},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"duration\",style:{display:'block',marginBottom:'8px',fontWeight:'500'},children:\"Duration (hours)\"}),/*#__PURE__*/_jsx(\"select\",{id:\"duration\",name:\"duration\",value:formData.duration,onChange:handleInputChange,style:{width:'100%',padding:'10px',borderRadius:'6px',border:'1px solid #d1d5db',fontSize:'16px',boxSizing:'border-box',backgroundColor:'white'},children:Array.from({length:12}).map((_,i)=>/*#__PURE__*/_jsxs(\"option\",{value:i+1,children:[i+1,\" \",i===0?'hour':'hours']},i+1))})]})]}),formData.date&&/*#__PURE__*/_jsxs(\"div\",{className:\"time-slots\",style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',fontWeight:'500'},children:\"Available Time Slots *\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fill, minmax(90px, 1fr))',gap:'10px',margin:'10px 0'},children:availableTimeSlots.map((slot,idx)=>/*#__PURE__*/_jsx(\"div\",{style:{padding:'8px 0',textAlign:'center',border:`1px solid ${formData.time===slot.time?businessInfo.primaryColor:'#d1d5db'}`,borderRadius:'4px',backgroundColor:formData.time===slot.time?`${businessInfo.primaryColor}15`:'white',cursor:'pointer',fontWeight:formData.time===slot.time?'bold':'normal'},onClick:()=>setFormData(prev=>({...prev,time:slot.time})),children:slot.time},idx))}),availableTimeSlots.length===0&&formData.date&&/*#__PURE__*/_jsx(\"p\",{style:{color:'#ef4444',fontSize:'14px'},children:\"No time slots available on this date. Please select another date.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"notes\",style:{display:'block',marginBottom:'8px',fontWeight:'500'},children:\"Additional Requirements\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"notes\",name:\"notes\",value:formData.notes,onChange:handleInputChange,rows:\"3\",style:{width:'100%',padding:'10px',borderRadius:'6px',border:'1px solid #d1d5db',fontSize:'16px',boxSizing:'border-box',resize:'vertical'},placeholder:\"Any special requirements, equipment needs, or additional information...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"booking-actions\",style:{marginTop:'30px',display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:prevStep,style:{backgroundColor:'#f3f4f6',color:'#374151',border:'none',padding:'12px 24px',borderRadius:'6px',cursor:'pointer',width:'48%',fontSize:'16px',fontWeight:'500'},children:\"Back\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,disabled:!formData.date||!formData.time||submitting||availableTimeSlots.length===0,style:{backgroundColor:businessInfo.primaryColor,color:'#fff',border:'none',padding:'12px 24px',borderRadius:'6px',cursor:'pointer',width:'48%',fontSize:'16px',fontWeight:'500',opacity:!formData.date||!formData.time||submitting||availableTimeSlots.length===0?0.6:1},children:submitting?'Submitting...':'Book Venue'})]})]}),step===4&&/*#__PURE__*/_jsxs(\"div\",{className:\"booking-step confirmation\",style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'70px',height:'70px',borderRadius:'50%',backgroundColor:'#10b981',color:'white',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'36px',margin:'0 auto 25px',fontWeight:'bold'},children:\"\\u2713\"}),/*#__PURE__*/_jsx(\"h2\",{style:{color:'#111827',marginBottom:'15px',fontSize:'24px'},children:\"Venue Booked Successfully!\"}),/*#__PURE__*/_jsx(\"p\",{style:{marginBottom:'25px',color:'#4b5563',fontSize:'16px'},children:bookingConfig.confirmationMessage}),/*#__PURE__*/_jsxs(\"div\",{className:\"booking-summary\",style:{backgroundColor:'#f3f4f6',padding:'20px',borderRadius:'8px',marginBottom:'25px',textAlign:'left'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0,marginBottom:'15px',fontSize:'18px'},children:\"Booking Summary\"}),/*#__PURE__*/_jsxs(\"p\",{style:{marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Venue:\"}),\" \",(_venues$find5=venues.find(v=>v._id===formData.venueId))===null||_venues$find5===void 0?void 0:_venues$find5.title]}),/*#__PURE__*/_jsxs(\"p\",{style:{marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location:\"}),\" \",(_venues$find6=venues.find(v=>v._id===formData.venueId))===null||_venues$find6===void 0?void 0:_venues$find6.location]}),/*#__PURE__*/_jsxs(\"p\",{style:{marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date:\"}),\" \",formData.date?new Date(formData.date).toLocaleDateString():'N/A']}),/*#__PURE__*/_jsxs(\"p\",{style:{marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Time:\"}),\" \",formData.time]}),/*#__PURE__*/_jsxs(\"p\",{style:{marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Duration:\"}),\" \",formData.duration,\" hours\"]}),formData.eventType&&/*#__PURE__*/_jsxs(\"p\",{style:{marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Event Type:\"}),\" \",formData.eventType]}),formData.attendees&&/*#__PURE__*/_jsxs(\"p\",{style:{marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Attendees:\"}),\" \",formData.attendees]}),/*#__PURE__*/_jsxs(\"p\",{style:{marginBottom:'0'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Booked By:\"}),\" \",formData.name]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// Reset form and go back to step 1\nsetFormData({venueId:'',name:'',email:'',phone:'',date:'',time:'',duration:2,attendees:'',eventType:'',notes:''});setStep(1);},style:{backgroundColor:businessInfo.primaryColor,color:'#fff',border:'none',padding:'12px 24px',borderRadius:'6px',cursor:'pointer',width:'100%',fontSize:'16px',fontWeight:'500'},children:\"Book Another Venue\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"booking-footer\",style:{marginTop:'30px',textAlign:'center',fontSize:'14px',color:'#6b7280'}})]})]});}// Non-standalone version (for integration within main app)\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"page-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Book a Venue\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Use the venue booking system to find and reserve suitable spaces for your events.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"For the full booking experience, please use the standalone booking page.\"})]})})});};export default BookingPage;","map":{"version":3,"names":["React","useState","useEffect","useRef","useSearchParams","toast","ToastContainer","api","jsx","_jsx","jsxs","_jsxs","BookingLoadingSpinner","_ref","color","style","display","justifyContent","alignItems","height","width","children","border","borderTop","borderRadius","animation","BookingPage","_ref2","standalone","searchParams","businessId","get","businessInfo","setBusinessInfo","name","primaryColor","description","loading","setLoading","venues","setVenues","filteredVenues","setFilteredVenues","step","setStep","submitting","setSubmitting","searchQuery","setSearchQuery","availableTimeSlots","setAvailableTimeSlots","bookingConfig","setBookingConfig","title","subtitle","confirmationMessage","formData","setFormData","venueId","email","phone","date","time","duration","attendees","eventType","notes","fetchData","DEMO_VENUES","_id","price","amount","currency","minDuration","maxDuration","capacity","location","features","imageUrl","prev","decodeURIComponent","generateDemoTimeSlots","error","console","slots","startHour","endHour","hour","isAvailable","Math","random","push","toString","padStart","available","trim","query","toLowerCase","filtered","filter","venue","includes","some","feature","handleInputChange","e","value","target","handleSearchChange","selectVenue","find","v","nextStep","prevStep","handleSubmit","preventDefault","_customerResponse$dat","startTime","Date","durationHours","endTime","getTime","customerData","customerResponse","createOrUpdateCustomer","customerId","data","customer","Error","bookingData","client","toISOString","expectedAttendees","status","source","createBooking","_error$response","_error$response$data","response","_venues$find","_venues$find2","_venues$find3","_venues$find4","_venues$find5","_venues$find6","className","fontFamily","minHeight","backgroundColor","margin","padding","boxSizing","position","autoClose","textAlign","borderBottom","fontSize","fontWeight","opacity","maxWidth","marginBottom","map","stepNum","boxShadow","type","placeholder","onChange","maxHeight","overflowY","paddingRight","paddingLeft","length","_venue$price","_venue$price2","cursor","flexDirection","gap","onClick","flexWrap","minWidth","src","alt","objectFit","flex","whiteSpace","marginLeft","overflow","textOverflow","WebkitLineClamp","WebkitBoxOrient","marginRight","index","marginTop","disabled","htmlFor","id","required","min","max","split","Array","from","_","i","gridTemplateColumns","slot","idx","rows","resize","toLocaleDateString"],"sources":["/home/toebot/dog-services-saas/frontend/src/pages/BookingPage.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { toast, ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport api from '../services/api';\n\n// Simple standalone loading spinner for the booking page\nconst BookingLoadingSpinner = ({ color = '#4f46e5' }) => (\n  <div style={{ \n    display: 'flex', \n    justifyContent: 'center', \n    alignItems: 'center', \n    height: '100vh',\n    width: '100%'\n  }}>\n    <div style={{ \n      border: '4px solid #f3f3f3',\n      borderTop: `4px solid ${color}`, \n      borderRadius: '50%',\n      width: '40px',\n      height: '40px',\n      animation: 'spin 1s linear infinite'\n    }}></div>\n    <style>{`\n      @keyframes spin {\n        0% { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n      }\n    `}</style>\n  </div>\n);\n\nconst BookingPage = ({ standalone = false }) => {\n  const [searchParams] = useSearchParams();\n  const businessId = searchParams.get('businessId') || 'default';\n  \n  // Business info - in a real implementation, this would be fetched based on businessId\n  const [businessInfo, setBusinessInfo] = useState({\n    name: 'Venue Booking',\n    primaryColor: '#2563eb',\n    description: 'Book community venues for your next event'\n  });\n  \n  const [loading, setLoading] = useState(true);\n  const [venues, setVenues] = useState([]);\n  const [filteredVenues, setFilteredVenues] = useState([]);\n  const [step, setStep] = useState(1);\n  const [submitting, setSubmitting] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [availableTimeSlots, setAvailableTimeSlots] = useState([]);\n  const [bookingConfig, setBookingConfig] = useState({\n    title: 'Book a Venue',\n    subtitle: 'Find and book the perfect venue for your event',\n    confirmationMessage: 'Your venue booking has been confirmed. You will receive a confirmation email shortly.'\n  });\n  \n  const [formData, setFormData] = useState({\n    venueId: '',\n    name: '',\n    email: '',\n    phone: '',\n    date: '',\n    time: '',\n    duration: 2, // Default duration in hours\n    attendees: '',\n    eventType: '',\n    notes: '',\n  });\n\n  // Load business info and venues\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        // DEMO VENUES for testing\n        const DEMO_VENUES = [\n          {\n            _id: 'venue-1',\n            title: 'Queenstown Memorial Hall',\n            description: 'Large community hall with stage and seating for up to 400 people. Perfect for performances, conferences, and large gatherings.',\n            price: { amount: 150.00, currency: 'NZD' },\n            minDuration: 1,\n            maxDuration: 12,\n            capacity: 400,\n            location: 'Queenstown CBD',\n            features: ['Stage', 'Sound System', 'Projector', 'Kitchen', 'Wheelchair Access'],\n            imageUrl: 'https://placehold.co/400x300?text=Memorial+Hall'\n          },\n          {\n            _id: 'venue-2',\n            title: 'Lake Hayes Pavilion',\n            description: 'Scenic venue with lake views, ideal for weddings, celebrations and community events. Includes outdoor area.',\n            price: { amount: 120.00, currency: 'NZD' },\n            minDuration: 2,\n            maxDuration: 24,\n            capacity: 150,\n            location: 'Lake Hayes',\n            features: ['Lake Views', 'Kitchen', 'Outdoor Area', 'Tables & Chairs', 'Parking'],\n            imageUrl: 'https://placehold.co/400x300?text=Lake+Hayes'\n          },\n          {\n            _id: 'venue-3',\n            title: 'Arrowtown Community Centre',\n            description: 'Charming venue in historic Arrowtown suitable for meetings, small events and classes.',\n            price: { amount: 80.00, currency: 'NZD' },\n            minDuration: 1,\n            maxDuration: 8,\n            capacity: 100,\n            location: 'Arrowtown',\n            features: ['Meeting Rooms', 'Kitchen', 'Projector', 'Whiteboard', 'Wifi'],\n            imageUrl: 'https://placehold.co/400x300?text=Arrowtown+Centre'\n          },\n          {\n            _id: 'venue-4',\n            title: 'Wanaka Recreation Centre',\n            description: 'Modern sports facility with various rooms and spaces for sports events, classes, and community activities.',\n            price: { amount: 100.00, currency: 'NZD' },\n            minDuration: 1,\n            maxDuration: 10,\n            capacity: 300,\n            location: 'Wanaka',\n            features: ['Sports Hall', 'Meeting Rooms', 'AV Equipment', 'Changing Rooms', 'Parking'],\n            imageUrl: 'https://placehold.co/400x300?text=Wanaka+Centre'\n          }\n        ];\n        \n        // Set demo venues\n        setVenues(DEMO_VENUES);\n        setFilteredVenues(DEMO_VENUES);\n        \n        // Simulate booking page configuration loading\n        // In a real app, this would be: const configResponse = await api.getBookingPageConfig(businessId);\n        \n        // Parse URL params for config in demo mode\n        const title = searchParams.get('title') || 'Book a Venue';\n        const subtitle = searchParams.get('subtitle') || 'Find and book the perfect venue for your event';\n        const primaryColor = searchParams.get('color') || '#2563eb';\n        \n        // Update business info\n        setBusinessInfo(prev => ({\n          ...prev,\n          primaryColor: primaryColor\n        }));\n        \n        // Update booking config\n        setBookingConfig({\n          title: decodeURIComponent(title),\n          subtitle: decodeURIComponent(subtitle),\n          confirmationMessage: 'Your venue booking has been confirmed. You will receive a confirmation email shortly.'\n        });\n        \n        // Generate demo time slots for today\n        generateDemoTimeSlots();\n        \n      } catch (error) {\n        console.error('Error fetching booking data:', error);\n        toast.error('Could not load venues. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    // Generate demo time slots for a given date\n    const generateDemoTimeSlots = () => {\n      const slots = [];\n      const startHour = 8; // 8 AM\n      const endHour = 20; // 8 PM\n      \n      for (let hour = startHour; hour <= endHour; hour++) {\n        // Random availability (70% chance of being available)\n        const isAvailable = Math.random() > 0.3;\n        if (isAvailable) {\n          slots.push({\n            time: `${hour.toString().padStart(2, '0')}:00`,\n            available: true\n          });\n          // Add half-hour slot\n          if (hour < endHour) {\n            slots.push({\n              time: `${hour.toString().padStart(2, '0')}:30`,\n              available: Math.random() > 0.3\n            });\n          }\n        }\n      }\n      \n      setAvailableTimeSlots(slots);\n    };\n\n    fetchData();\n  }, [businessId]);\n  \n  // Filter venues based on search query\n  useEffect(() => {\n    if (!searchQuery.trim()) {\n      setFilteredVenues(venues);\n      return;\n    }\n    \n    const query = searchQuery.toLowerCase();\n    const filtered = venues.filter(venue => \n      venue.title.toLowerCase().includes(query) || \n      venue.description.toLowerCase().includes(query) ||\n      venue.location.toLowerCase().includes(query) ||\n      venue.features.some(feature => feature.toLowerCase().includes(query))\n    );\n    \n    setFilteredVenues(filtered);\n  }, [searchQuery, venues]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    \n    // When date changes, generate new available slots\n    if (name === 'date') {\n      // In a real app, this would fetch from the backend\n      // For demo, we'll just generate random slots\n      const slots = [];\n      const startHour = 8; // 8 AM\n      const endHour = 20; // 8 PM\n      \n      for (let hour = startHour; hour <= endHour; hour++) {\n        // Random availability (70% chance of being available)\n        const isAvailable = Math.random() > 0.3;\n        if (isAvailable) {\n          slots.push({\n            time: `${hour.toString().padStart(2, '0')}:00`,\n            available: true\n          });\n          // Add half-hour slot\n          if (hour < endHour) {\n            slots.push({\n              time: `${hour.toString().padStart(2, '0')}:30`,\n              available: Math.random() > 0.3\n            });\n          }\n        }\n      }\n      \n      setAvailableTimeSlots(slots);\n    }\n  };\n\n  const handleSearchChange = (e) => {\n    setSearchQuery(e.target.value);\n  };\n\n  const selectVenue = (venueId) => {\n    const venue = venues.find(v => v._id === venueId);\n    setFormData(prev => ({ \n      ...prev, \n      venueId,\n      duration: venue?.minDuration || 2\n    }));\n  };\n\n  const nextStep = () => {\n    if (step === 1 && !formData.venueId) {\n      toast.error('Please select a venue to continue');\n      return;\n    }\n    \n    if (step === 2 && (!formData.name || !formData.email)) {\n      toast.error('Please provide your name and email');\n      return;\n    }\n    \n    if (step === 3 && (!formData.date || !formData.time)) {\n      toast.error('Please select a date and time for your booking');\n      return;\n    }\n    \n    setStep(prev => prev + 1);\n  };\n\n  const prevStep = () => {\n    setStep(prev => prev - 1);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setSubmitting(true);\n    \n    try {\n      // Format date and time for API\n      const startTime = new Date(`${formData.date}T${formData.time}`);\n      const venue = venues.find(v => v._id === formData.venueId);\n      const durationHours = formData.duration || 2; // Default to 2 hours\n      const endTime = new Date(startTime.getTime() + durationHours * 60 * 60 * 1000);\n      \n      // First create or get customer\n      const customerData = {\n        name: formData.name,\n        email: formData.email,\n        phone: formData.phone\n      };\n      \n      const customerResponse = await api.createOrUpdateCustomer(customerData);\n      const customerId = customerResponse.data.customer?._id;\n      \n      if (!customerId) {\n        throw new Error('Failed to create customer record');\n      }\n      \n      // Create the booking\n      const bookingData = {\n        venueId: formData.venueId,\n        client: customerId,\n        businessId: businessId,\n        startTime: startTime.toISOString(),\n        endTime: endTime.toISOString(),\n        eventType: formData.eventType,\n        expectedAttendees: formData.attendees,\n        notes: {\n          client: formData.notes,\n        },\n        status: 'pending',\n        source: 'booking_page'\n      };\n      \n      await api.createBooking(bookingData);\n      \n      // Move to success screen\n      setStep(4);\n      \n    } catch (error) {\n      console.error('Error creating booking:', error);\n      toast.error(error.response?.data?.error || 'Failed to book venue');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  \n  if (loading) {\n    return <BookingLoadingSpinner color={businessInfo.primaryColor} />;\n  }\n\n  // If standalone mode, use the complete page with header\n  if (standalone) {\n    return (\n      <div className=\"standalone-booking-page\" style={{\n        fontFamily: 'sans-serif',\n        minHeight: '100vh',\n        backgroundColor: '#f9fafb',\n        margin: 0,\n        padding: 0,\n        boxSizing: 'border-box'\n      }}>\n        <ToastContainer position=\"top-right\" autoClose={3000} />\n        \n        {/* Header Banner */}\n        <div style={{\n          backgroundColor: businessInfo.primaryColor,\n          padding: '20px 0',\n          color: 'white',\n          textAlign: 'center',\n          borderBottom: '1px solid #e5e7eb'\n        }}>\n          <h1 style={{ margin: '0', fontSize: '24px', fontWeight: '600' }}>\n            {businessInfo.name}\n          </h1>\n          <p style={{ margin: '5px 0 0 0', fontSize: '16px', opacity: 0.9 }}>\n            {businessInfo.description}\n          </p>\n        </div>\n        \n        <div className=\"booking-page-container\" style={{\n          maxWidth: '800px',\n          margin: '0 auto',\n          padding: '20px',\n          fontFamily: 'sans-serif'\n        }}>\n          <div className=\"booking-header\" style={{\n            textAlign: 'center',\n            marginBottom: '30px'\n          }}>\n            <h2 style={{ \n              color: '#374151', \n              fontSize: '24px',\n              marginBottom: '10px',\n              fontWeight: '600'\n            }}>{bookingConfig.title}</h2>\n            <p style={{ color: '#6b7280', marginBottom: '20px' }}>\n              {bookingConfig.subtitle}\n            </p>\n          </div>\n\n          {/* Progress Steps */}\n          <div className=\"booking-progress\" style={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginBottom: '30px'\n          }}>\n            {[1, 2, 3].map(stepNum => (\n              <div \n                key={stepNum}\n                style={{\n                  width: '70px',\n                  textAlign: 'center'\n                }}\n              >\n                <div style={{\n                  width: '40px',\n                  height: '40px',\n                  borderRadius: '50%',\n                  backgroundColor: step >= stepNum ? businessInfo.primaryColor : '#e5e7eb',\n                  color: step >= stepNum ? '#fff' : '#333',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  fontWeight: 'bold',\n                  margin: '0 auto 10px'\n                }}>\n                  {stepNum}\n                </div>\n                <div style={{ fontSize: '14px' }}>\n                  {stepNum === 1 ? 'Venue' : stepNum === 2 ? 'Information' : 'Schedule'}\n                </div>\n              </div>\n            ))}\n          </div>\n\n          <div className=\"booking-card\" style={{\n            backgroundColor: 'white',\n            borderRadius: '8px',\n            boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n            padding: '30px'\n          }}>\n            {/* Step 1: Venue Selection */}\n            {step === 1 && (\n              <div className=\"booking-step\">\n                <h2 style={{ marginBottom: '20px', fontSize: '20px' }}>Find a Venue</h2>\n                \n                {/* Search Box */}\n                <div className=\"search-box\" style={{ marginBottom: '20px' }}>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Search venues by name, location, or features...\"\n                    value={searchQuery}\n                    onChange={handleSearchChange}\n                    style={{\n                      width: '100%',\n                      padding: '12px 16px',\n                      borderRadius: '6px',\n                      border: '1px solid #d1d5db',\n                      fontSize: '16px',\n                      boxSizing: 'border-box'\n                    }}\n                  />\n                </div>\n                \n                <div className=\"venues-list-container\" style={{ \n                  marginBottom: '20px',\n                  border: '1px solid #e5e7eb',\n                  borderRadius: '8px',\n                  padding: '5px',\n                  backgroundColor: '#f9fafb'\n                }}>\n                  <div className=\"venues-list\" style={{ \n                    maxHeight: '500px',\n                    overflowY: 'auto',\n                    paddingRight: '5px',\n                    paddingLeft: '5px'\n                  }}>\n                    {filteredVenues.length === 0 ? (\n                      <div style={{ padding: '20px', textAlign: 'center' }}>\n                        <p>No venues match your search. Please try different keywords.</p>\n                      </div>\n                    ) : (\n                      filteredVenues.map(venue => (\n                        <div \n                          key={venue._id}\n                          className=\"venue-item\"\n                          style={{\n                            padding: '20px',\n                            marginBottom: '15px',\n                            border: `2px solid ${formData.venueId === venue._id ? businessInfo.primaryColor : '#e5e7eb'}`,\n                            borderRadius: '8px',\n                            cursor: 'pointer',\n                            backgroundColor: formData.venueId === venue._id ? `${businessInfo.primaryColor}15` : '#fff',\n                            display: 'flex',\n                            flexDirection: 'column',\n                            gap: '12px',\n                            boxShadow: '0 1px 3px rgba(0,0,0,0.1)'\n                          }}\n                          onClick={() => selectVenue(venue._id)}\n                        >\n                          <div style={{ \n                            display: 'flex', \n                            gap: '15px',\n                            flexWrap: 'nowrap' \n                          }}>\n                            {venue.imageUrl && (\n                              <div style={{ \n                                minWidth: '120px',\n                                maxWidth: '120px'\n                              }}>\n                                <img \n                                  src={venue.imageUrl} \n                                  alt={venue.title}\n                                  style={{ \n                                    width: '120px', \n                                    height: '90px', \n                                    objectFit: 'cover',\n                                    borderRadius: '4px'\n                                  }}\n                                />\n                              </div>\n                            )}\n                            <div style={{ \n                              flex: '1 1 auto',\n                              minWidth: 0 // Required for text truncation to work\n                            }}>\n                              <div style={{ \n                                display: 'flex', \n                                justifyContent: 'space-between', \n                                alignItems: 'flex-start',\n                                flexWrap: 'wrap'\n                              }}>\n                                <h3 style={{ \n                                  margin: '0 0 5px 0', \n                                  fontSize: '18px',\n                                  fontWeight: '600',\n                                  color: '#111827'\n                                }}>{venue.title}</h3>\n                                <span style={{ \n                                  fontWeight: 'bold', \n                                  color: businessInfo.primaryColor,\n                                  whiteSpace: 'nowrap',\n                                  marginLeft: '8px'\n                                }}>\n                                  ${venue.price?.amount || 0}/{venue.price?.currency} per hour\n                                </span>\n                              </div>\n                              <p style={{ \n                                margin: '5px 0 10px', \n                                fontSize: '14px', \n                                color: '#4b5563',\n                                overflow: 'hidden',\n                                textOverflow: 'ellipsis',\n                                display: '-webkit-box',\n                                WebkitLineClamp: 2,\n                                WebkitBoxOrient: 'vertical'\n                              }}>\n                                {venue.description}\n                              </p>\n                              <div style={{ \n                                fontSize: '14px', \n                                color: '#6b7280',\n                                display: 'flex',\n                                flexWrap: 'wrap'\n                              }}>\n                                <span style={{ \n                                  display: 'inline-block', \n                                  marginRight: '15px',\n                                  marginBottom: '4px'\n                                }}>\n                                  <strong>Location:</strong> {venue.location}\n                                </span>\n                                <span style={{ display: 'inline-block' }}>\n                                  <strong>Capacity:</strong> {venue.capacity} people\n                                </span>\n                              </div>\n                            </div>\n                          </div>\n                          \n                          <div className=\"venue-features\" style={{ \n                            display: 'flex', \n                            flexWrap: 'wrap', \n                            gap: '6px'\n                          }}>\n                            {venue.features.map((feature, index) => (\n                              <span \n                                key={index}\n                                style={{\n                                  display: 'inline-block',\n                                  backgroundColor: '#f3f4f6',\n                                  padding: '4px 10px',\n                                  borderRadius: '16px',\n                                  fontSize: '12px',\n                                  color: '#4b5563',\n                                  whiteSpace: 'nowrap'\n                                }}\n                              >\n                                {feature}\n                              </span>\n                            ))}\n                          </div>\n                        </div>\n                      ))\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"booking-actions\" style={{ marginTop: '30px' }}>\n                  <button \n                    onClick={nextStep}\n                    disabled={!formData.venueId || filteredVenues.length === 0}\n                    style={{\n                      backgroundColor: businessInfo.primaryColor,\n                      color: '#fff',\n                      border: 'none',\n                      padding: '12px 24px',\n                      borderRadius: '6px',\n                      cursor: 'pointer',\n                      width: '100%',\n                      fontSize: '16px',\n                      fontWeight: '500',\n                      opacity: (!formData.venueId || filteredVenues.length === 0) ? 0.6 : 1\n                    }}\n                  >\n                    Continue to Your Information\n                  </button>\n                </div>\n              </div>\n            )}\n\n            {/* Step 2: Customer Information */}\n            {step === 2 && (\n              <div className=\"booking-step\">\n                <h2 style={{ marginBottom: '20px', fontSize: '20px' }}>Your Information</h2>\n                \n                <div className=\"venue-selected-info\" style={{ \n                  backgroundColor: '#f9fafb', \n                  padding: '15px',\n                  borderRadius: '6px',\n                  marginBottom: '20px'\n                }}>\n                  <h3 style={{ margin: '0 0 10px 0', fontSize: '16px' }}>Selected Venue</h3>\n                  <p style={{ margin: '0', fontSize: '15px' }}>\n                    <strong>{venues.find(v => v._id === formData.venueId)?.title}</strong>\n                  </p>\n                </div>\n                \n                <div className=\"form-row\" style={{ \n                  display: 'flex', \n                  gap: '20px',\n                  marginBottom: '20px'\n                }}>\n                  <div className=\"form-group\" style={{ flex: 1 }}>\n                    <label htmlFor=\"name\" style={{ display: 'block', marginBottom: '8px', fontWeight: '500' }}>Name *</label>\n                    <input \n                      type=\"text\"\n                      id=\"name\"\n                      name=\"name\"\n                      value={formData.name}\n                      onChange={handleInputChange}\n                      required\n                      style={{\n                        width: '100%',\n                        padding: '10px',\n                        borderRadius: '6px',\n                        border: '1px solid #d1d5db',\n                        fontSize: '16px',\n                        boxSizing: 'border-box'\n                      }}\n                      placeholder=\"Your full name\"\n                    />\n                  </div>\n                  \n                  <div className=\"form-group\" style={{ flex: 1 }}>\n                    <label htmlFor=\"email\" style={{ display: 'block', marginBottom: '8px', fontWeight: '500' }}>Email *</label>\n                    <input \n                      type=\"email\"\n                      id=\"email\"\n                      name=\"email\"\n                      value={formData.email}\n                      onChange={handleInputChange}\n                      required\n                      style={{\n                        width: '100%',\n                        padding: '10px',\n                        borderRadius: '6px',\n                        border: '1px solid #d1d5db',\n                        fontSize: '16px',\n                        boxSizing: 'border-box'\n                      }}\n                      placeholder=\"Your email address\"\n                    />\n                  </div>\n                </div>\n                \n                <div className=\"form-row\" style={{ \n                  display: 'flex', \n                  gap: '20px',\n                  marginBottom: '20px'\n                }}>\n                  <div className=\"form-group\" style={{ flex: 1 }}>\n                    <label htmlFor=\"phone\" style={{ display: 'block', marginBottom: '8px', fontWeight: '500' }}>Phone Number</label>\n                    <input \n                      type=\"tel\"\n                      id=\"phone\"\n                      name=\"phone\"\n                      value={formData.phone}\n                      onChange={handleInputChange}\n                      style={{\n                        width: '100%',\n                        padding: '10px',\n                        borderRadius: '6px',\n                        border: '1px solid #d1d5db',\n                        fontSize: '16px',\n                        boxSizing: 'border-box'\n                      }}\n                      placeholder=\"Your phone number\"\n                    />\n                  </div>\n                  \n                  <div className=\"form-group\" style={{ flex: 1 }}>\n                    <label htmlFor=\"attendees\" style={{ display: 'block', marginBottom: '8px', fontWeight: '500' }}>Expected Attendees</label>\n                    <input \n                      type=\"number\"\n                      id=\"attendees\"\n                      name=\"attendees\"\n                      value={formData.attendees}\n                      onChange={handleInputChange}\n                      min=\"1\"\n                      max={venues.find(v => v._id === formData.venueId)?.capacity}\n                      style={{\n                        width: '100%',\n                        padding: '10px',\n                        borderRadius: '6px',\n                        border: '1px solid #d1d5db',\n                        fontSize: '16px',\n                        boxSizing: 'border-box'\n                      }}\n                      placeholder=\"Number of attendees\"\n                    />\n                  </div>\n                </div>\n                \n                <div className=\"form-group\" style={{ marginBottom: '20px' }}>\n                  <label htmlFor=\"eventType\" style={{ display: 'block', marginBottom: '8px', fontWeight: '500' }}>Event Type</label>\n                  <select\n                    id=\"eventType\"\n                    name=\"eventType\"\n                    value={formData.eventType}\n                    onChange={handleInputChange}\n                    style={{\n                      width: '100%',\n                      padding: '10px',\n                      borderRadius: '6px',\n                      border: '1px solid #d1d5db',\n                      fontSize: '16px',\n                      boxSizing: 'border-box',\n                      backgroundColor: 'white'\n                    }}\n                  >\n                    <option value=\"\">-- Select Event Type --</option>\n                    <option value=\"conference\">Conference</option>\n                    <option value=\"wedding\">Wedding</option>\n                    <option value=\"meeting\">Meeting</option>\n                    <option value=\"cultural\">Cultural Event</option>\n                    <option value=\"sports\">Sports Event</option>\n                    <option value=\"exhibition\">Exhibition</option>\n                    <option value=\"workshop\">Workshop</option>\n                    <option value=\"social\">Social Gathering</option>\n                    <option value=\"other\">Other</option>\n                  </select>\n                </div>\n\n                <div className=\"booking-actions\" style={{ \n                  marginTop: '30px',\n                  display: 'flex',\n                  justifyContent: 'space-between'\n                }}>\n                  <button \n                    onClick={prevStep}\n                    style={{\n                      backgroundColor: '#f3f4f6',\n                      color: '#374151',\n                      border: 'none',\n                      padding: '12px 24px',\n                      borderRadius: '6px',\n                      cursor: 'pointer',\n                      width: '48%',\n                      fontSize: '16px',\n                      fontWeight: '500'\n                    }}\n                  >\n                    Back\n                  </button>\n                  <button \n                    onClick={nextStep}\n                    disabled={!formData.name || !formData.email}\n                    style={{\n                      backgroundColor: businessInfo.primaryColor,\n                      color: '#fff',\n                      border: 'none',\n                      padding: '12px 24px',\n                      borderRadius: '6px',\n                      cursor: 'pointer',\n                      width: '48%',\n                      fontSize: '16px',\n                      fontWeight: '500',\n                      opacity: (!formData.name || !formData.email) ? 0.6 : 1\n                    }}\n                  >\n                    Continue to Schedule\n                  </button>\n                </div>\n              </div>\n            )}\n\n            {/* Step 3: Date & Time Selection */}\n            {step === 3 && (\n              <div className=\"booking-step\">\n                <h2 style={{ marginBottom: '20px', fontSize: '20px' }}>Choose Date & Time</h2>\n                \n                <div className=\"venue-selected-info\" style={{ \n                  backgroundColor: '#f9fafb', \n                  padding: '15px',\n                  borderRadius: '6px',\n                  marginBottom: '20px'\n                }}>\n                  <h3 style={{ margin: '0 0 10px 0', fontSize: '16px' }}>Selected Venue</h3>\n                  <p style={{ margin: '0 0 5px 0', fontSize: '15px' }}>\n                    <strong>{venues.find(v => v._id === formData.venueId)?.title}</strong>\n                  </p>\n                  <p style={{ margin: '0', fontSize: '14px', color: '#6b7280' }}>\n                    {venues.find(v => v._id === formData.venueId)?.location}\n                  </p>\n                </div>\n                \n                <div className=\"form-row\" style={{ \n                  display: 'flex', \n                  gap: '20px',\n                  marginBottom: '20px'\n                }}>\n                  <div className=\"form-group\" style={{ flex: 1 }}>\n                    <label htmlFor=\"date\" style={{ display: 'block', marginBottom: '8px', fontWeight: '500' }}>Date *</label>\n                    <input \n                      type=\"date\"\n                      id=\"date\"\n                      name=\"date\"\n                      value={formData.date}\n                      onChange={handleInputChange}\n                      required\n                      min={new Date().toISOString().split('T')[0]}\n                      style={{\n                        width: '100%',\n                        padding: '10px',\n                        borderRadius: '6px',\n                        border: '1px solid #d1d5db',\n                        fontSize: '16px',\n                        boxSizing: 'border-box'\n                      }}\n                    />\n                  </div>\n                  \n                  <div className=\"form-group\" style={{ flex: 1 }}>\n                    <label htmlFor=\"duration\" style={{ display: 'block', marginBottom: '8px', fontWeight: '500' }}>Duration (hours)</label>\n                    <select\n                      id=\"duration\"\n                      name=\"duration\"\n                      value={formData.duration}\n                      onChange={handleInputChange}\n                      style={{\n                        width: '100%',\n                        padding: '10px',\n                        borderRadius: '6px',\n                        border: '1px solid #d1d5db',\n                        fontSize: '16px',\n                        boxSizing: 'border-box',\n                        backgroundColor: 'white'\n                      }}\n                    >\n                      {Array.from({ length: 12 }).map((_, i) => (\n                        <option key={i + 1} value={i + 1}>\n                          {i + 1} {i === 0 ? 'hour' : 'hours'}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                </div>\n                \n                {formData.date && (\n                  <div className=\"time-slots\" style={{ marginBottom: '20px' }}>\n                    <label style={{ display: 'block', marginBottom: '8px', fontWeight: '500' }}>Available Time Slots *</label>\n                    <div style={{ \n                      display: 'grid', \n                      gridTemplateColumns: 'repeat(auto-fill, minmax(90px, 1fr))',\n                      gap: '10px',\n                      margin: '10px 0'\n                    }}>\n                      {availableTimeSlots.map((slot, idx) => (\n                        <div \n                          key={idx}\n                          style={{\n                            padding: '8px 0',\n                            textAlign: 'center',\n                            border: `1px solid ${formData.time === slot.time ? businessInfo.primaryColor : '#d1d5db'}`,\n                            borderRadius: '4px',\n                            backgroundColor: formData.time === slot.time ? `${businessInfo.primaryColor}15` : 'white',\n                            cursor: 'pointer',\n                            fontWeight: formData.time === slot.time ? 'bold' : 'normal'\n                          }}\n                          onClick={() => setFormData(prev => ({ ...prev, time: slot.time }))}\n                        >\n                          {slot.time}\n                        </div>\n                      ))}\n                    </div>\n                    {availableTimeSlots.length === 0 && formData.date && (\n                      <p style={{ color: '#ef4444', fontSize: '14px' }}>No time slots available on this date. Please select another date.</p>\n                    )}\n                  </div>\n                )}\n                \n                <div className=\"form-group\" style={{ marginBottom: '20px' }}>\n                  <label htmlFor=\"notes\" style={{ display: 'block', marginBottom: '8px', fontWeight: '500' }}>Additional Requirements</label>\n                  <textarea\n                    id=\"notes\"\n                    name=\"notes\"\n                    value={formData.notes}\n                    onChange={handleInputChange}\n                    rows=\"3\"\n                    style={{\n                      width: '100%',\n                      padding: '10px',\n                      borderRadius: '6px',\n                      border: '1px solid #d1d5db',\n                      fontSize: '16px',\n                      boxSizing: 'border-box',\n                      resize: 'vertical'\n                    }}\n                    placeholder=\"Any special requirements, equipment needs, or additional information...\"\n                  />\n                </div>\n\n                <div className=\"booking-actions\" style={{ \n                  marginTop: '30px',\n                  display: 'flex',\n                  justifyContent: 'space-between'\n                }}>\n                  <button \n                    onClick={prevStep}\n                    style={{\n                      backgroundColor: '#f3f4f6',\n                      color: '#374151',\n                      border: 'none',\n                      padding: '12px 24px',\n                      borderRadius: '6px',\n                      cursor: 'pointer',\n                      width: '48%',\n                      fontSize: '16px',\n                      fontWeight: '500'\n                    }}\n                  >\n                    Back\n                  </button>\n                  <button \n                    onClick={handleSubmit}\n                    disabled={!formData.date || !formData.time || submitting || availableTimeSlots.length === 0}\n                    style={{\n                      backgroundColor: businessInfo.primaryColor,\n                      color: '#fff',\n                      border: 'none',\n                      padding: '12px 24px',\n                      borderRadius: '6px',\n                      cursor: 'pointer',\n                      width: '48%',\n                      fontSize: '16px',\n                      fontWeight: '500',\n                      opacity: (!formData.date || !formData.time || submitting || availableTimeSlots.length === 0) ? 0.6 : 1\n                    }}\n                  >\n                    {submitting ? 'Submitting...' : 'Book Venue'}\n                  </button>\n                </div>\n              </div>\n            )}\n\n            {/* Step 4: Confirmation */}\n            {step === 4 && (\n              <div className=\"booking-step confirmation\" style={{ textAlign: 'center' }}>\n                <div style={{ \n                  width: '70px', \n                  height: '70px', \n                  borderRadius: '50%', \n                  backgroundColor: '#10b981',\n                  color: 'white',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  fontSize: '36px',\n                  margin: '0 auto 25px',\n                  fontWeight: 'bold'\n                }}>\n                  ✓\n                </div>\n                \n                <h2 style={{ color: '#111827', marginBottom: '15px', fontSize: '24px' }}>Venue Booked Successfully!</h2>\n                <p style={{ marginBottom: '25px', color: '#4b5563', fontSize: '16px' }}>\n                  {bookingConfig.confirmationMessage}\n                </p>\n                \n                <div className=\"booking-summary\" style={{\n                  backgroundColor: '#f3f4f6',\n                  padding: '20px',\n                  borderRadius: '8px',\n                  marginBottom: '25px',\n                  textAlign: 'left'\n                }}>\n                  <h3 style={{ marginTop: 0, marginBottom: '15px', fontSize: '18px' }}>Booking Summary</h3>\n                  <p style={{ marginBottom: '10px' }}><strong>Venue:</strong> {venues.find(v => v._id === formData.venueId)?.title}</p>\n                  <p style={{ marginBottom: '10px' }}><strong>Location:</strong> {venues.find(v => v._id === formData.venueId)?.location}</p>\n                  <p style={{ marginBottom: '10px' }}><strong>Date:</strong> {formData.date ? new Date(formData.date).toLocaleDateString() : 'N/A'}</p>\n                  <p style={{ marginBottom: '10px' }}><strong>Time:</strong> {formData.time}</p>\n                  <p style={{ marginBottom: '10px' }}><strong>Duration:</strong> {formData.duration} hours</p>\n                  {formData.eventType && (\n                    <p style={{ marginBottom: '10px' }}><strong>Event Type:</strong> {formData.eventType}</p>\n                  )}\n                  {formData.attendees && (\n                    <p style={{ marginBottom: '10px' }}><strong>Attendees:</strong> {formData.attendees}</p>\n                  )}\n                  <p style={{ marginBottom: '0' }}><strong>Booked By:</strong> {formData.name}</p>\n                </div>\n                \n                <button \n                  onClick={() => {\n                    // Reset form and go back to step 1\n                    setFormData({\n                      venueId: '',\n                      name: '',\n                      email: '',\n                      phone: '',\n                      date: '',\n                      time: '',\n                      duration: 2,\n                      attendees: '',\n                      eventType: '',\n                      notes: '',\n                    });\n                    setStep(1);\n                  }}\n                  style={{\n                    backgroundColor: businessInfo.primaryColor,\n                    color: '#fff',\n                    border: 'none',\n                    padding: '12px 24px',\n                    borderRadius: '6px',\n                    cursor: 'pointer',\n                    width: '100%',\n                    fontSize: '16px',\n                    fontWeight: '500'\n                  }}\n                >\n                  Book Another Venue\n                </button>\n              </div>\n            )}\n          </div>\n\n          <div className=\"booking-footer\" style={{\n            marginTop: '30px',\n            textAlign: 'center',\n            fontSize: '14px',\n            color: '#6b7280'\n          }}>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Non-standalone version (for integration within main app)\n  return (\n    <div className=\"page-container\">\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <h2>Book a Venue</h2>\n          <p>Use the venue booking system to find and reserve suitable spaces for your events.</p>\n          {/* Booking form elements would go here in a more integrated version */}\n          <p>For the full booking experience, please use the standalone booking page.</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BookingPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}