{"ast":null,"code":"var _jsxFileName = \"/home/toebot/dog-services-saas/frontend/src/pages/AppointmentDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport PageHeader from '../components/common/PageHeader';\nimport LoadingSpinner from '../components/common/LoadingSpinner';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AppointmentDetail = () => {\n  _s();\n  const {\n    appointmentId\n  } = useParams();\n  const navigate = useNavigate();\n  const [appointment, setAppointment] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [confirmingCancel, setConfirmingCancel] = useState(false);\n  const [cancelReason, setCancelReason] = useState('');\n  useEffect(() => {\n    fetchAppointmentDetails();\n  }, [appointmentId]);\n  const fetchAppointmentDetails = async () => {\n    setLoading(true);\n    try {\n      var _booking$client, _booking$client2, _booking$client3, _booking$client4, _booking$subject, _booking$subject2, _booking$subject3, _booking$subject4, _booking$service, _booking$service2, _booking$notes, _booking$notes2;\n      const response = await api.getBooking(appointmentId);\n      const booking = response.data.booking;\n\n      // Transform the booking data to fit our component\n      const formattedAppointment = {\n        id: booking._id,\n        customerName: ((_booking$client = booking.client) === null || _booking$client === void 0 ? void 0 : _booking$client.name) || 'Unknown Client',\n        customerId: ((_booking$client2 = booking.client) === null || _booking$client2 === void 0 ? void 0 : _booking$client2._id) || '',\n        customerEmail: ((_booking$client3 = booking.client) === null || _booking$client3 === void 0 ? void 0 : _booking$client3.email) || '',\n        customerPhone: ((_booking$client4 = booking.client) === null || _booking$client4 === void 0 ? void 0 : _booking$client4.phone) || '',\n        petName: ((_booking$subject = booking.subject) === null || _booking$subject === void 0 ? void 0 : _booking$subject.name) || 'No pet specified',\n        petId: ((_booking$subject2 = booking.subject) === null || _booking$subject2 === void 0 ? void 0 : _booking$subject2._id) || '',\n        petBreed: ((_booking$subject3 = booking.subject) === null || _booking$subject3 === void 0 ? void 0 : _booking$subject3.breed) || '',\n        petAge: ((_booking$subject4 = booking.subject) === null || _booking$subject4 === void 0 ? void 0 : _booking$subject4.age) || '',\n        service: ((_booking$service = booking.service) === null || _booking$service === void 0 ? void 0 : _booking$service.title) || 'Unknown Service',\n        serviceId: ((_booking$service2 = booking.service) === null || _booking$service2 === void 0 ? void 0 : _booking$service2._id) || '',\n        serviceDuration: calculateDuration(booking.startTime, booking.endTime),\n        servicePrice: formatPrice(booking.totalPrice),\n        date: booking.startTime,\n        endTime: booking.endTime,\n        status: booking.status,\n        notes: ((_booking$notes = booking.notes) === null || _booking$notes === void 0 ? void 0 : _booking$notes.client) || ((_booking$notes2 = booking.notes) === null || _booking$notes2 === void 0 ? void 0 : _booking$notes2.provider) || '',\n        paymentStatus: booking.paymentStatus || 'pending',\n        location: booking.location,\n        createdAt: booking.createdAt,\n        assignedStaff: booking.assignedStaff\n      };\n      setAppointment(formattedAppointment);\n    } catch (error) {\n      console.error('Error fetching appointment details:', error);\n      toast.error('Failed to load appointment details');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleStatusChange = async newStatus => {\n    try {\n      await api.updateBooking(appointmentId, {\n        status: newStatus\n      });\n      setAppointment({\n        ...appointment,\n        status: newStatus\n      });\n      toast.success(`Appointment status updated to ${newStatus}`);\n    } catch (error) {\n      console.error('Error updating appointment status:', error);\n      toast.error('Failed to update appointment status');\n    }\n  };\n  const handleCancelClick = () => {\n    setConfirmingCancel(true);\n  };\n  const confirmCancel = async () => {\n    try {\n      await api.cancelBooking(appointmentId, cancelReason);\n      setAppointment({\n        ...appointment,\n        status: 'cancelled'\n      });\n      toast.success('Appointment cancelled successfully');\n      setConfirmingCancel(false);\n    } catch (error) {\n      console.error('Error cancelling appointment:', error);\n      toast.error('Failed to cancel appointment');\n    }\n  };\n  const calculateDuration = (start, end) => {\n    const startTime = new Date(start);\n    const endTime = new Date(end);\n    const durationMs = endTime - startTime;\n    const durationMinutes = Math.round(durationMs / 60000);\n    if (durationMinutes < 60) {\n      return `${durationMinutes} minutes`;\n    } else {\n      const hours = Math.floor(durationMinutes / 60);\n      const minutes = durationMinutes % 60;\n      return `${hours} hour${hours > 1 ? 's' : ''}${minutes > 0 ? ` ${minutes} min` : ''}`;\n    }\n  };\n  const formatPrice = price => {\n    if (!price || !price.amount) return 'N/A';\n    return `${price.currency || '$'}${price.amount.toFixed(2)}`;\n  };\n  const formatDate = dateString => {\n    const options = {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    };\n    return new Date(dateString).toLocaleDateString('en-US', options);\n  };\n  const getStatusBadgeClass = status => {\n    switch (status) {\n      case 'confirmed':\n        return 'badge-success';\n      case 'pending':\n        return 'badge-warning';\n      case 'completed':\n        return 'badge-info';\n      case 'cancelled':\n        return 'badge-danger';\n      default:\n        return 'badge-secondary';\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 12\n    }, this);\n  }\n  if (!appointment) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-container\",\n      children: [/*#__PURE__*/_jsxDEV(PageHeader, {\n        title: \"Appointment Not Found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state-icon\",\n            children: \"\\uD83D\\uDD0D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Appointment Not Found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"The appointment you're looking for doesn't exist or has been removed.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/appointments\",\n            className: \"btn btn-primary\",\n            children: \"Back to Appointments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-container\",\n    children: [/*#__PURE__*/_jsxDEV(PageHeader, {\n      title: `Appointment: ${appointment.service}`,\n      backLink: \"/appointments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Appointment Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"status-pill\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `status-badge ${getStatusBadgeClass(appointment.status)}`,\n                children: appointment.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Scheduled Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"detail-value\",\n                children: formatDate(appointment.date)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Service Information\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-grid\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-label\",\n                    children: \"Service:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-value\",\n                    children: appointment.service\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-label\",\n                    children: \"Duration:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-value\",\n                    children: appointment.serviceDuration\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-label\",\n                    children: \"Price:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-value\",\n                    children: appointment.servicePrice\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-label\",\n                    children: \"Payment Status:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `detail-value ${appointment.paymentStatus === 'paid' ? 'text-success' : 'text-danger'}`,\n                    children: appointment.paymentStatus\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Notes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"detail-value notes-box\",\n                children: appointment.notes || 'No notes for this appointment.'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"action-buttons\",\n              children: [appointment.status === 'pending' && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-success\",\n                onClick: () => handleStatusChange('confirmed'),\n                children: \"Confirm Appointment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 19\n              }, this), ['pending', 'confirmed'].includes(appointment.status) && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger\",\n                onClick: handleCancelClick,\n                children: \"Cancel Appointment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 19\n              }, this), appointment.status === 'confirmed' && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-info\",\n                onClick: () => handleStatusChange('completed'),\n                children: \"Mark as Completed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: `/appointments/${appointmentId}/edit`,\n                className: \"btn btn-outline-primary\",\n                children: \"Edit Appointment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 15\n            }, this), confirmingCancel && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"confirmation-modal\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"confirmation-modal-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Cancel Appointment\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Are you sure you want to cancel this appointment?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"confirmation-actions\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-outline-secondary\",\n                    onClick: () => setConfirmingCancel(false),\n                    children: \"No, Keep It\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-danger\",\n                    onClick: confirmCancel,\n                    children: \"Yes, Cancel Appointment\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Customer Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"customer-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: appointment.customerName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"icon-email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 20\n                }, this), \" \", appointment.customerEmail]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"icon-phone\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 20\n                }, this), \" \", appointment.customerPhone]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: `/customers/${appointment.customerId}`,\n                className: \"btn btn-sm btn-outline-primary\",\n                children: \"View Customer Profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Pet Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pet-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: appointment.petName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Breed:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 20\n                }, this), \" \", appointment.petBreed]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Age:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 20\n                }, this), \" \", appointment.petAge]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: `/pets/${appointment.petId}`,\n                className: \"btn btn-sm btn-outline-primary\",\n                children: \"View Pet Profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 158,\n    columnNumber: 5\n  }, this);\n};\n_s(AppointmentDetail, \"EuUwV/Ru6eRtec4A5VGHlNTiceI=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = AppointmentDetail;\nexport default AppointmentDetail;\nvar _c;\n$RefreshReg$(_c, \"AppointmentDetail\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Link","toast","PageHeader","LoadingSpinner","api","jsxDEV","_jsxDEV","AppointmentDetail","_s","appointmentId","navigate","appointment","setAppointment","loading","setLoading","confirmingCancel","setConfirmingCancel","cancelReason","setCancelReason","fetchAppointmentDetails","_booking$client","_booking$client2","_booking$client3","_booking$client4","_booking$subject","_booking$subject2","_booking$subject3","_booking$subject4","_booking$service","_booking$service2","_booking$notes","_booking$notes2","response","getBooking","booking","data","formattedAppointment","id","_id","customerName","client","name","customerId","customerEmail","email","customerPhone","phone","petName","subject","petId","petBreed","breed","petAge","age","service","title","serviceId","serviceDuration","calculateDuration","startTime","endTime","servicePrice","formatPrice","totalPrice","date","status","notes","provider","paymentStatus","location","createdAt","assignedStaff","error","console","handleStatusChange","newStatus","updateBooking","success","handleCancelClick","confirmCancel","cancelBooking","start","end","Date","durationMs","durationMinutes","Math","round","hours","floor","minutes","price","amount","currency","toFixed","formatDate","dateString","options","weekday","year","month","day","hour","minute","toLocaleDateString","getStatusBadgeClass","fileName","_jsxFileName","lineNumber","columnNumber","className","children","to","backLink","onClick","includes","_c","$RefreshReg$"],"sources":["/home/toebot/dog-services-saas/frontend/src/pages/AppointmentDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport PageHeader from '../components/common/PageHeader';\nimport LoadingSpinner from '../components/common/LoadingSpinner';\nimport api from '../services/api';\n\nconst AppointmentDetail = () => {\n  const { appointmentId } = useParams();\n  const navigate = useNavigate();\n  const [appointment, setAppointment] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [confirmingCancel, setConfirmingCancel] = useState(false);\n  const [cancelReason, setCancelReason] = useState('');\n\n  useEffect(() => {\n    fetchAppointmentDetails();\n  }, [appointmentId]);\n\n  const fetchAppointmentDetails = async () => {\n    setLoading(true);\n    try {\n      const response = await api.getBooking(appointmentId);\n      const booking = response.data.booking;\n      \n      // Transform the booking data to fit our component\n      const formattedAppointment = {\n        id: booking._id,\n        customerName: booking.client?.name || 'Unknown Client',\n        customerId: booking.client?._id || '',\n        customerEmail: booking.client?.email || '',\n        customerPhone: booking.client?.phone || '',\n        petName: booking.subject?.name || 'No pet specified',\n        petId: booking.subject?._id || '',\n        petBreed: booking.subject?.breed || '',\n        petAge: booking.subject?.age || '',\n        service: booking.service?.title || 'Unknown Service',\n        serviceId: booking.service?._id || '',\n        serviceDuration: calculateDuration(booking.startTime, booking.endTime),\n        servicePrice: formatPrice(booking.totalPrice),\n        date: booking.startTime,\n        endTime: booking.endTime,\n        status: booking.status,\n        notes: booking.notes?.client || booking.notes?.provider || '',\n        paymentStatus: booking.paymentStatus || 'pending',\n        location: booking.location,\n        createdAt: booking.createdAt,\n        assignedStaff: booking.assignedStaff,\n      };\n      \n      setAppointment(formattedAppointment);\n    } catch (error) {\n      console.error('Error fetching appointment details:', error);\n      toast.error('Failed to load appointment details');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleStatusChange = async (newStatus) => {\n    try {\n      await api.updateBooking(appointmentId, { status: newStatus });\n      setAppointment({\n        ...appointment,\n        status: newStatus\n      });\n      toast.success(`Appointment status updated to ${newStatus}`);\n    } catch (error) {\n      console.error('Error updating appointment status:', error);\n      toast.error('Failed to update appointment status');\n    }\n  };\n\n  const handleCancelClick = () => {\n    setConfirmingCancel(true);\n  };\n\n  const confirmCancel = async () => {\n    try {\n      await api.cancelBooking(appointmentId, cancelReason);\n      setAppointment({\n        ...appointment,\n        status: 'cancelled'\n      });\n      toast.success('Appointment cancelled successfully');\n      setConfirmingCancel(false);\n    } catch (error) {\n      console.error('Error cancelling appointment:', error);\n      toast.error('Failed to cancel appointment');\n    }\n  };\n  \n  const calculateDuration = (start, end) => {\n    const startTime = new Date(start);\n    const endTime = new Date(end);\n    const durationMs = endTime - startTime;\n    const durationMinutes = Math.round(durationMs / 60000);\n    \n    if (durationMinutes < 60) {\n      return `${durationMinutes} minutes`;\n    } else {\n      const hours = Math.floor(durationMinutes / 60);\n      const minutes = durationMinutes % 60;\n      return `${hours} hour${hours > 1 ? 's' : ''}${minutes > 0 ? ` ${minutes} min` : ''}`;\n    }\n  };\n  \n  const formatPrice = (price) => {\n    if (!price || !price.amount) return 'N/A';\n    return `${price.currency || '$'}${price.amount.toFixed(2)}`;\n  };\n\n  const formatDate = (dateString) => {\n    const options = { \n      weekday: 'long', \n      year: 'numeric', \n      month: 'long', \n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    };\n    return new Date(dateString).toLocaleDateString('en-US', options);\n  };\n\n  const getStatusBadgeClass = (status) => {\n    switch (status) {\n      case 'confirmed': return 'badge-success';\n      case 'pending': return 'badge-warning';\n      case 'completed': return 'badge-info';\n      case 'cancelled': return 'badge-danger';\n      default: return 'badge-secondary';\n    }\n  };\n\n  if (loading) {\n    return <LoadingSpinner />;\n  }\n\n  if (!appointment) {\n    return (\n      <div className=\"page-container\">\n        <PageHeader title=\"Appointment Not Found\" />\n        <div className=\"card\">\n          <div className=\"card-body empty-state\">\n            <div className=\"empty-state-icon\">🔍</div>\n            <h3>Appointment Not Found</h3>\n            <p>The appointment you're looking for doesn't exist or has been removed.</p>\n            <Link to=\"/appointments\" className=\"btn btn-primary\">\n              Back to Appointments\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"page-container\">\n      <PageHeader \n        title={`Appointment: ${appointment.service}`}\n        backLink=\"/appointments\"\n      />\n\n      <div className=\"row\">\n        <div className=\"col-md-8\">\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <h3>Appointment Details</h3>\n              <div className=\"status-pill\">\n                <span className={`status-badge ${getStatusBadgeClass(appointment.status)}`}>\n                  {appointment.status}\n                </span>\n              </div>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"detail-section\">\n                <h4>Scheduled Time</h4>\n                <p className=\"detail-value\">{formatDate(appointment.date)}</p>\n              </div>\n\n              <div className=\"detail-section\">\n                <h4>Service Information</h4>\n                <div className=\"detail-grid\">\n                  <div className=\"detail-item\">\n                    <span className=\"detail-label\">Service:</span>\n                    <span className=\"detail-value\">{appointment.service}</span>\n                  </div>\n                  <div className=\"detail-item\">\n                    <span className=\"detail-label\">Duration:</span>\n                    <span className=\"detail-value\">{appointment.serviceDuration}</span>\n                  </div>\n                  <div className=\"detail-item\">\n                    <span className=\"detail-label\">Price:</span>\n                    <span className=\"detail-value\">{appointment.servicePrice}</span>\n                  </div>\n                  <div className=\"detail-item\">\n                    <span className=\"detail-label\">Payment Status:</span>\n                    <span className={`detail-value ${appointment.paymentStatus === 'paid' ? 'text-success' : 'text-danger'}`}>\n                      {appointment.paymentStatus}\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"detail-section\">\n                <h4>Notes</h4>\n                <p className=\"detail-value notes-box\">{appointment.notes || 'No notes for this appointment.'}</p>\n              </div>\n              \n              <div className=\"action-buttons\">\n                {appointment.status === 'pending' && (\n                  <button \n                    className=\"btn btn-success\"\n                    onClick={() => handleStatusChange('confirmed')}\n                  >\n                    Confirm Appointment\n                  </button>\n                )}\n                \n                {['pending', 'confirmed'].includes(appointment.status) && (\n                  <button \n                    className=\"btn btn-danger\"\n                    onClick={handleCancelClick}\n                  >\n                    Cancel Appointment\n                  </button>\n                )}\n                \n                {appointment.status === 'confirmed' && (\n                  <button \n                    className=\"btn btn-info\"\n                    onClick={() => handleStatusChange('completed')}\n                  >\n                    Mark as Completed\n                  </button>\n                )}\n                \n                <Link \n                  to={`/appointments/${appointmentId}/edit`}\n                  className=\"btn btn-outline-primary\"\n                >\n                  Edit Appointment\n                </Link>\n              </div>\n              \n              {confirmingCancel && (\n                <div className=\"confirmation-modal\">\n                  <div className=\"confirmation-modal-content\">\n                    <h3>Cancel Appointment</h3>\n                    <p>Are you sure you want to cancel this appointment?</p>\n                    <div className=\"confirmation-actions\">\n                      <button className=\"btn btn-outline-secondary\" onClick={() => setConfirmingCancel(false)}>\n                        No, Keep It\n                      </button>\n                      <button className=\"btn btn-danger\" onClick={confirmCancel}>\n                        Yes, Cancel Appointment\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"col-md-4\">\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <h3>Customer Details</h3>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"customer-info\">\n                <h4>{appointment.customerName}</h4>\n                <p><i className=\"icon-email\"></i> {appointment.customerEmail}</p>\n                <p><i className=\"icon-phone\"></i> {appointment.customerPhone}</p>\n                <Link to={`/customers/${appointment.customerId}`} className=\"btn btn-sm btn-outline-primary\">\n                  View Customer Profile\n                </Link>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"card mt-3\">\n            <div className=\"card-header\">\n              <h3>Pet Details</h3>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"pet-info\">\n                <h4>{appointment.petName}</h4>\n                <p><strong>Breed:</strong> {appointment.petBreed}</p>\n                <p><strong>Age:</strong> {appointment.petAge}</p>\n                <Link to={`/pets/${appointment.petId}`} className=\"btn btn-sm btn-outline-primary\">\n                  View Pet Profile\n                </Link>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AppointmentDetail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}