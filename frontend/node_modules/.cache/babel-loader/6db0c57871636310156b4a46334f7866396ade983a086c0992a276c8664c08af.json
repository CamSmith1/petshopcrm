{"ast":null,"code":"import React,{useState,useEffect,useContext}from'react';import{useParams,useNavigate}from'react-router-dom';import{format}from'date-fns';import AuthContext from'../context/AuthContext';import api from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ServiceDetail=()=>{const{serviceId}=useParams();const{user,isAuthenticated}=useContext(AuthContext);const navigate=useNavigate();const[service,setService]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[selectedDate,setSelectedDate]=useState(new Date());const[selectedTime,setSelectedTime]=useState('');const[selectedPet,setSelectedPet]=useState('');const[userPets,setUserPets]=useState([]);useEffect(()=>{fetchServiceDetails();if(isAuthenticated&&(user===null||user===void 0?void 0:user.role)==='pet_owner'){fetchUserPets();}},[serviceId,isAuthenticated,user]);const fetchServiceDetails=async()=>{try{setLoading(true);// In a real app, we would fetch from API\n// const response = await api.getService(serviceId);\n// setService(response.data.service);\n// Mock service details\nsetService({id:serviceId,title:'Professional Dog Grooming',category:'grooming',description:'Our professional dog grooming service includes a bath with premium shampoo, haircut, nail trimming, ear cleaning, and teeth brushing. We cater to all breeds and sizes of dogs, ensuring your furry friend looks and feels their best.',price:{amount:50,currency:'USD',unit:'per_session'},duration:60,// in minutes\nprovider:{id:'123',name:'Happy Paws Grooming',rating:4.8,reviewCount:125,description:'Professional dog grooming service with over 10 years of experience. We specialize in all breeds and sizes.',address:'123 Pet Street, New York, NY'},availability:{monday:[{start:'09:00',end:'17:00'}],tuesday:[{start:'09:00',end:'17:00'}],wednesday:[{start:'09:00',end:'17:00'}],thursday:[{start:'09:00',end:'17:00'}],friday:[{start:'09:00',end:'17:00'}],saturday:[{start:'10:00',end:'15:00'}],sunday:[]},reviews:[{id:'1',user:'Sarah M.',rating:5,comment:'My dog looks amazing after her grooming session! Will definitely come back.',date:'2023-12-15T10:00:00Z'},{id:'2',user:'Michael R.',rating:4,comment:'Good service overall. My dog was a bit anxious but they handled him well.',date:'2023-11-28T14:30:00Z'}]});setLoading(false);}catch(err){setError('Error fetching service details. Please try again.');setLoading(false);}};const fetchUserPets=async()=>{try{// In a real app, we would fetch from API\n// const response = await api.getPets();\n// setUserPets(response.data.pets);\n// Mock pets\nsetUserPets([{id:'1',name:'Buddy',breed:'Golden Retriever'},{id:'2',name:'Max',breed:'German Shepherd'}]);}catch(err){console.error('Error fetching pets:',err);}};const handleDateChange=date=>{setSelectedDate(date);setSelectedTime('');// Reset time when date changes\n};const handleTimeChange=e=>{setSelectedTime(e.target.value);};const handlePetChange=e=>{setSelectedPet(e.target.value);};const handleBooking=()=>{if(!isAuthenticated){// Redirect to login if not authenticated\nnavigate('/login',{state:{from:`/services/${serviceId}`}});return;}if(!selectedTime||!selectedPet){alert('Please select a time and pet for your booking.');return;}// Create booking object\nconst bookingData={serviceId,petId:selectedPet,startTime:new Date(`${format(selectedDate,'yyyy-MM-dd')}T${selectedTime}`).toISOString()// Add more booking details as needed\n};// In a real app, we would call the API to create a booking\nconsole.log('Booking data:',bookingData);// Redirect to a booking confirmation page\nnavigate('/bookings');};// Generate available time slots based on service availability\nconst getAvailableTimeSlots=()=>{if(!service)return[];const dayOfWeek=format(selectedDate,'EEEE').toLowerCase();const availabilityForDay=service.availability[dayOfWeek]||[];if(availabilityForDay.length===0){return[];}const timeSlots=[];availabilityForDay.forEach(slot=>{const startHour=parseInt(slot.start.split(':')[0]);const startMinute=parseInt(slot.start.split(':')[1]);const endHour=parseInt(slot.end.split(':')[0]);const endMinute=parseInt(slot.end.split(':')[1]);let currentHour=startHour;let currentMinute=startMinute;while(currentHour<endHour||currentHour===endHour&&currentMinute<endMinute){const formattedHour=currentHour.toString().padStart(2,'0');const formattedMinute=currentMinute.toString().padStart(2,'0');timeSlots.push(`${formattedHour}:${formattedMinute}`);// Increment by service duration (default to 30 minutes if not specified)\nconst incrementMinutes=service.duration||30;currentMinute+=incrementMinutes;if(currentMinute>=60){currentHour+=Math.floor(currentMinute/60);currentMinute%=60;}}});return timeSlots;};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading service details...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error});}if(!service){return/*#__PURE__*/_jsx(\"div\",{className:\"not-found\",children:\"Service not found\"});}const availableTimeSlots=getAvailableTimeSlots();return/*#__PURE__*/_jsx(\"div\",{className:\"service-detail-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"service-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:service.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"service-meta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"service-category\",children:service.category}),/*#__PURE__*/_jsxs(\"span\",{className:\"service-rating\",children:[\"\\u2B50 \",service.provider.rating,\" (\",service.provider.reviewCount,\" reviews)\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"service-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"service-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"service-description\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{children:service.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"provider-info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"About the Provider\"}),/*#__PURE__*/_jsx(\"h3\",{children:service.provider.name}),/*#__PURE__*/_jsx(\"p\",{children:service.provider.description}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDCCD \",service.provider.address]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pricing-info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Pricing\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"price\",children:[\"$\",service.price.amount,service.price.unit==='per_hour'?' per hour':service.price.unit==='per_session'?' per session':service.price.unit==='per_night'?' per night':'']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Duration: \",service.duration,\" minutes\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reviews-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reviews\"}),service.reviews.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No reviews yet.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"reviews-list\",children:service.reviews.map(review=>/*#__PURE__*/_jsxs(\"div\",{className:\"review-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"review-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"review-author\",children:review.user}),/*#__PURE__*/_jsx(\"span\",{className:\"review-rating\",children:'‚≠ê'.repeat(review.rating)}),/*#__PURE__*/_jsx(\"span\",{className:\"review-date\",children:new Date(review.date).toLocaleDateString()})]}),/*#__PURE__*/_jsx(\"p\",{className:\"review-comment\",children:review.comment})]},review.id))})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"booking-sidebar\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"booking-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Book This Service\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"booking-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:format(selectedDate,'yyyy-MM-dd'),min:format(new Date(),'yyyy-MM-dd'),onChange:e=>handleDateChange(new Date(e.target.value))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Time\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedTime,onChange:handleTimeChange,disabled:availableTimeSlots.length===0,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a time\"}),availableTimeSlots.map(time=>/*#__PURE__*/_jsx(\"option\",{value:time,children:time},time))]}),availableTimeSlots.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:\"No available time slots for this date.\"})]}),isAuthenticated&&(user===null||user===void 0?void 0:user.role)==='pet_owner'&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Select Pet\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedPet,onChange:handlePetChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a pet\"}),userPets.map(pet=>/*#__PURE__*/_jsxs(\"option\",{value:pet.id,children:[pet.name,\" (\",pet.breed,\")\"]},pet.id))]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"price-summary\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: $\",service.price.amount]})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-block\",onClick:handleBooking,disabled:!selectedTime||!selectedPet&&isAuthenticated&&(user===null||user===void 0?void 0:user.role)==='pet_owner',children:isAuthenticated?'Book Now':'Login to Book'})]})]})})]})]})});};export default ServiceDetail;","map":{"version":3,"names":["React","useState","useEffect","useContext","useParams","useNavigate","format","AuthContext","api","jsx","_jsx","jsxs","_jsxs","ServiceDetail","serviceId","user","isAuthenticated","navigate","service","setService","loading","setLoading","error","setError","selectedDate","setSelectedDate","Date","selectedTime","setSelectedTime","selectedPet","setSelectedPet","userPets","setUserPets","fetchServiceDetails","role","fetchUserPets","id","title","category","description","price","amount","currency","unit","duration","provider","name","rating","reviewCount","address","availability","monday","start","end","tuesday","wednesday","thursday","friday","saturday","sunday","reviews","comment","date","err","breed","console","handleDateChange","handleTimeChange","e","target","value","handlePetChange","handleBooking","state","from","alert","bookingData","petId","startTime","toISOString","log","getAvailableTimeSlots","dayOfWeek","toLowerCase","availabilityForDay","length","timeSlots","forEach","slot","startHour","parseInt","split","startMinute","endHour","endMinute","currentHour","currentMinute","formattedHour","toString","padStart","formattedMinute","push","incrementMinutes","Math","floor","className","children","availableTimeSlots","map","review","repeat","toLocaleDateString","type","min","onChange","disabled","time","pet","onClick"],"sources":["/home/toebot/dog-services-saas/frontend/src/pages/ServiceDetail.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { format } from 'date-fns';\nimport AuthContext from '../context/AuthContext';\nimport api from '../services/api';\n\nconst ServiceDetail = () => {\n  const { serviceId } = useParams();\n  const { user, isAuthenticated } = useContext(AuthContext);\n  const navigate = useNavigate();\n  \n  const [service, setService] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [selectedTime, setSelectedTime] = useState('');\n  const [selectedPet, setSelectedPet] = useState('');\n  const [userPets, setUserPets] = useState([]);\n  \n  useEffect(() => {\n    fetchServiceDetails();\n    if (isAuthenticated && user?.role === 'pet_owner') {\n      fetchUserPets();\n    }\n  }, [serviceId, isAuthenticated, user]);\n  \n  const fetchServiceDetails = async () => {\n    try {\n      setLoading(true);\n      // In a real app, we would fetch from API\n      // const response = await api.getService(serviceId);\n      // setService(response.data.service);\n      \n      // Mock service details\n      setService({\n        id: serviceId,\n        title: 'Professional Dog Grooming',\n        category: 'grooming',\n        description: 'Our professional dog grooming service includes a bath with premium shampoo, haircut, nail trimming, ear cleaning, and teeth brushing. We cater to all breeds and sizes of dogs, ensuring your furry friend looks and feels their best.',\n        price: {\n          amount: 50,\n          currency: 'USD',\n          unit: 'per_session'\n        },\n        duration: 60, // in minutes\n        provider: {\n          id: '123',\n          name: 'Happy Paws Grooming',\n          rating: 4.8,\n          reviewCount: 125,\n          description: 'Professional dog grooming service with over 10 years of experience. We specialize in all breeds and sizes.',\n          address: '123 Pet Street, New York, NY'\n        },\n        availability: {\n          monday: [{start: '09:00', end: '17:00'}],\n          tuesday: [{start: '09:00', end: '17:00'}],\n          wednesday: [{start: '09:00', end: '17:00'}],\n          thursday: [{start: '09:00', end: '17:00'}],\n          friday: [{start: '09:00', end: '17:00'}],\n          saturday: [{start: '10:00', end: '15:00'}],\n          sunday: []\n        },\n        reviews: [\n          {\n            id: '1',\n            user: 'Sarah M.',\n            rating: 5,\n            comment: 'My dog looks amazing after her grooming session! Will definitely come back.',\n            date: '2023-12-15T10:00:00Z'\n          },\n          {\n            id: '2',\n            user: 'Michael R.',\n            rating: 4,\n            comment: 'Good service overall. My dog was a bit anxious but they handled him well.',\n            date: '2023-11-28T14:30:00Z'\n          }\n        ]\n      });\n      \n      setLoading(false);\n    } catch (err) {\n      setError('Error fetching service details. Please try again.');\n      setLoading(false);\n    }\n  };\n  \n  const fetchUserPets = async () => {\n    try {\n      // In a real app, we would fetch from API\n      // const response = await api.getPets();\n      // setUserPets(response.data.pets);\n      \n      // Mock pets\n      setUserPets([\n        { id: '1', name: 'Buddy', breed: 'Golden Retriever' },\n        { id: '2', name: 'Max', breed: 'German Shepherd' }\n      ]);\n    } catch (err) {\n      console.error('Error fetching pets:', err);\n    }\n  };\n  \n  const handleDateChange = (date) => {\n    setSelectedDate(date);\n    setSelectedTime(''); // Reset time when date changes\n  };\n  \n  const handleTimeChange = (e) => {\n    setSelectedTime(e.target.value);\n  };\n  \n  const handlePetChange = (e) => {\n    setSelectedPet(e.target.value);\n  };\n  \n  const handleBooking = () => {\n    if (!isAuthenticated) {\n      // Redirect to login if not authenticated\n      navigate('/login', { state: { from: `/services/${serviceId}` } });\n      return;\n    }\n    \n    if (!selectedTime || !selectedPet) {\n      alert('Please select a time and pet for your booking.');\n      return;\n    }\n    \n    // Create booking object\n    const bookingData = {\n      serviceId,\n      petId: selectedPet,\n      startTime: new Date(`${format(selectedDate, 'yyyy-MM-dd')}T${selectedTime}`).toISOString(),\n      // Add more booking details as needed\n    };\n    \n    // In a real app, we would call the API to create a booking\n    console.log('Booking data:', bookingData);\n    \n    // Redirect to a booking confirmation page\n    navigate('/bookings');\n  };\n  \n  // Generate available time slots based on service availability\n  const getAvailableTimeSlots = () => {\n    if (!service) return [];\n    \n    const dayOfWeek = format(selectedDate, 'EEEE').toLowerCase();\n    const availabilityForDay = service.availability[dayOfWeek] || [];\n    \n    if (availabilityForDay.length === 0) {\n      return [];\n    }\n    \n    const timeSlots = [];\n    availabilityForDay.forEach(slot => {\n      const startHour = parseInt(slot.start.split(':')[0]);\n      const startMinute = parseInt(slot.start.split(':')[1]);\n      const endHour = parseInt(slot.end.split(':')[0]);\n      const endMinute = parseInt(slot.end.split(':')[1]);\n      \n      let currentHour = startHour;\n      let currentMinute = startMinute;\n      \n      while (currentHour < endHour || (currentHour === endHour && currentMinute < endMinute)) {\n        const formattedHour = currentHour.toString().padStart(2, '0');\n        const formattedMinute = currentMinute.toString().padStart(2, '0');\n        timeSlots.push(`${formattedHour}:${formattedMinute}`);\n        \n        // Increment by service duration (default to 30 minutes if not specified)\n        const incrementMinutes = service.duration || 30;\n        currentMinute += incrementMinutes;\n        if (currentMinute >= 60) {\n          currentHour += Math.floor(currentMinute / 60);\n          currentMinute %= 60;\n        }\n      }\n    });\n    \n    return timeSlots;\n  };\n  \n  if (loading) {\n    return <div className=\"loading\">Loading service details...</div>;\n  }\n  \n  if (error) {\n    return <div className=\"error-message\">{error}</div>;\n  }\n  \n  if (!service) {\n    return <div className=\"not-found\">Service not found</div>;\n  }\n  \n  const availableTimeSlots = getAvailableTimeSlots();\n  \n  return (\n    <div className=\"service-detail-page\">\n      <div className=\"container\">\n        <div className=\"service-header\">\n          <h1>{service.title}</h1>\n          <div className=\"service-meta\">\n            <span className=\"service-category\">{service.category}</span>\n            <span className=\"service-rating\">‚≠ê {service.provider.rating} ({service.provider.reviewCount} reviews)</span>\n          </div>\n        </div>\n        \n        <div className=\"service-content\">\n          <div className=\"service-info\">\n            <div className=\"service-description\">\n              <h2>Description</h2>\n              <p>{service.description}</p>\n            </div>\n            \n            <div className=\"provider-info\">\n              <h2>About the Provider</h2>\n              <h3>{service.provider.name}</h3>\n              <p>{service.provider.description}</p>\n              <p>üìç {service.provider.address}</p>\n            </div>\n            \n            <div className=\"pricing-info\">\n              <h2>Pricing</h2>\n              <p className=\"price\">\n                ${service.price.amount} \n                {service.price.unit === 'per_hour' ? ' per hour' : \n                  service.price.unit === 'per_session' ? ' per session' : \n                  service.price.unit === 'per_night' ? ' per night' : ''}\n              </p>\n              <p>Duration: {service.duration} minutes</p>\n            </div>\n            \n            <div className=\"reviews-section\">\n              <h2>Reviews</h2>\n              {service.reviews.length === 0 ? (\n                <p>No reviews yet.</p>\n              ) : (\n                <div className=\"reviews-list\">\n                  {service.reviews.map(review => (\n                    <div key={review.id} className=\"review-card\">\n                      <div className=\"review-header\">\n                        <span className=\"review-author\">{review.user}</span>\n                        <span className=\"review-rating\">\n                          {'‚≠ê'.repeat(review.rating)}\n                        </span>\n                        <span className=\"review-date\">\n                          {new Date(review.date).toLocaleDateString()}\n                        </span>\n                      </div>\n                      <p className=\"review-comment\">{review.comment}</p>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n          \n          <div className=\"booking-sidebar\">\n            <div className=\"booking-card\">\n              <h2>Book This Service</h2>\n              \n              <div className=\"booking-form\">\n                <div className=\"form-group\">\n                  <label>Date</label>\n                  <input \n                    type=\"date\" \n                    value={format(selectedDate, 'yyyy-MM-dd')}\n                    min={format(new Date(), 'yyyy-MM-dd')}\n                    onChange={(e) => handleDateChange(new Date(e.target.value))}\n                  />\n                </div>\n                \n                <div className=\"form-group\">\n                  <label>Time</label>\n                  <select \n                    value={selectedTime}\n                    onChange={handleTimeChange}\n                    disabled={availableTimeSlots.length === 0}\n                  >\n                    <option value=\"\">Select a time</option>\n                    {availableTimeSlots.map(time => (\n                      <option key={time} value={time}>\n                        {time}\n                      </option>\n                    ))}\n                  </select>\n                  {availableTimeSlots.length === 0 && (\n                    <p className=\"error-text\">No available time slots for this date.</p>\n                  )}\n                </div>\n                \n                {isAuthenticated && user?.role === 'pet_owner' && (\n                  <div className=\"form-group\">\n                    <label>Select Pet</label>\n                    <select \n                      value={selectedPet}\n                      onChange={handlePetChange}\n                    >\n                      <option value=\"\">Select a pet</option>\n                      {userPets.map(pet => (\n                        <option key={pet.id} value={pet.id}>\n                          {pet.name} ({pet.breed})\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                )}\n                \n                <div className=\"price-summary\">\n                  <p>Price: ${service.price.amount}</p>\n                </div>\n                \n                <button \n                  className=\"btn btn-primary btn-block\"\n                  onClick={handleBooking}\n                  disabled={!selectedTime || (!selectedPet && isAuthenticated && user?.role === 'pet_owner')}\n                >\n                  {isAuthenticated ? 'Book Now' : 'Login to Book'}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ServiceDetail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}