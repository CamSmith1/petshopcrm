{"ast":null,"code":"var _jsxFileName = \"/home/toebot/dog-services-saas/frontend/src/components/widget/BookingWidget.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport api from '../../services/api';\nimport LoadingSpinner from '../common/LoadingSpinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookingWidget = ({\n  businessId,\n  config = {}\n}) => {\n  _s();\n  var _services$find;\n  const [loading, setLoading] = useState(true);\n  const [services, setServices] = useState([]);\n  const [step, setStep] = useState(1);\n  const [submitting, setSubmitting] = useState(false);\n  const [formData, setFormData] = useState({\n    serviceId: '',\n    name: '',\n    email: '',\n    phone: '',\n    date: '',\n    time: '',\n    notes: ''\n  });\n\n  // Default and custom styling\n  const styles = {\n    primaryColor: config.primaryColor || '#4f46e5',\n    secondaryColor: config.secondaryColor || '#f3f4f6',\n    fontFamily: config.fontFamily || 'sans-serif',\n    borderRadius: config.borderRadius || '8px',\n    ...config.styles\n  };\n\n  // Load services when component mounts\n  useEffect(() => {\n    const fetchServices = async () => {\n      try {\n        const response = await api.getServices(businessId);\n        setServices(response.data.services || []);\n      } catch (error) {\n        console.error('Error fetching services:', error);\n        toast.error('Could not load available services');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchServices();\n  }, [businessId]);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const nextStep = () => {\n    if (step === 1 && !formData.serviceId) {\n      toast.error('Please select a service to continue');\n      return;\n    }\n    setStep(prev => prev + 1);\n  };\n  const prevStep = () => {\n    setStep(prev => prev - 1);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setSubmitting(true);\n    try {\n      var _customerResponse$dat;\n      // Format date and time for API\n      const startTime = new Date(`${formData.date}T${formData.time}`);\n      const service = services.find(s => s._id === formData.serviceId);\n      const duration = (service === null || service === void 0 ? void 0 : service.duration) || 60; // Default to 60 minutes\n      const endTime = new Date(startTime.getTime() + duration * 60000);\n\n      // First create or get customer\n      const customerData = {\n        name: formData.name,\n        email: formData.email,\n        phone: formData.phone\n      };\n      const customerResponse = await api.createOrUpdateCustomer(customerData);\n      const customerId = (_customerResponse$dat = customerResponse.data.customer) === null || _customerResponse$dat === void 0 ? void 0 : _customerResponse$dat._id;\n      if (!customerId) {\n        throw new Error('Failed to create customer record');\n      }\n\n      // Create the booking\n      const bookingData = {\n        service: formData.serviceId,\n        client: customerId,\n        businessId: businessId,\n        startTime: startTime.toISOString(),\n        endTime: endTime.toISOString(),\n        notes: {\n          client: formData.notes\n        },\n        status: 'pending',\n        source: 'widget'\n      };\n      await api.createBooking(bookingData);\n\n      // Move to success screen\n      setStep(4);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error creating appointment:', error);\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to book appointment');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"booking-widget-container\",\n      style: {\n        fontFamily: styles.fontFamily,\n        maxWidth: '100%',\n        width: '400px',\n        margin: '0 auto',\n        padding: '20px',\n        borderRadius: styles.borderRadius,\n        boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n        backgroundColor: '#fff'\n      },\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"booking-widget-container\",\n    style: {\n      fontFamily: styles.fontFamily,\n      maxWidth: '100%',\n      width: '400px',\n      margin: '0 auto',\n      padding: '20px',\n      borderRadius: styles.borderRadius,\n      boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n      backgroundColor: '#fff'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"booking-widget-header\",\n      style: {\n        textAlign: 'center',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          color: styles.primaryColor,\n          margin: '0 0 10px 0'\n        },\n        children: config.title || 'Book an Appointment'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), config.logoUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: config.logoUrl,\n        alt: \"Business Logo\",\n        style: {\n          maxWidth: '120px',\n          marginBottom: '10px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"booking-progress\",\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        marginBottom: '20px'\n      },\n      children: [1, 2, 3].map(stepNum => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '30px',\n          height: '30px',\n          borderRadius: '50%',\n          backgroundColor: step >= stepNum ? styles.primaryColor : styles.secondaryColor,\n          color: step >= stepNum ? '#fff' : '#333',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          fontWeight: 'bold'\n        },\n        children: stepNum\n      }, stepNum, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), step === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"booking-step\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          color: '#333',\n          marginBottom: '15px'\n        },\n        children: \"Select a Service\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"services-list\",\n        children: services.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No services available at this time.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 15\n        }, this) : services.map(service => {\n          var _service$price;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"service-item\",\n            style: {\n              padding: '15px',\n              marginBottom: '10px',\n              border: `2px solid ${formData.serviceId === service._id ? styles.primaryColor : '#e5e7eb'}`,\n              borderRadius: styles.borderRadius,\n              cursor: 'pointer',\n              backgroundColor: formData.serviceId === service._id ? `${styles.primaryColor}15` : '#fff'\n            },\n            onClick: () => setFormData(prev => ({\n              ...prev,\n              serviceId: service._id\n            })),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                style: {\n                  margin: '0 0 5px 0'\n                },\n                children: service.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontWeight: 'bold'\n                },\n                children: [\"$\", ((_service$price = service.price) === null || _service$price === void 0 ? void 0 : _service$price.amount) || 0]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: '5px 0',\n                fontSize: '14px'\n              },\n              children: service.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '13px',\n                color: '#666'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [service.duration, \" min\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 19\n            }, this)]\n          }, service._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"booking-actions\",\n        style: {\n          marginTop: '20px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: nextStep,\n          disabled: !formData.serviceId || services.length === 0,\n          style: {\n            backgroundColor: styles.primaryColor,\n            color: '#fff',\n            border: 'none',\n            padding: '10px 20px',\n            borderRadius: styles.borderRadius,\n            cursor: 'pointer',\n            width: '100%',\n            opacity: !formData.serviceId || services.length === 0 ? 0.7 : 1\n          },\n          children: \"Continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 9\n    }, this), step === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"booking-step\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          color: '#333',\n          marginBottom: '15px'\n        },\n        children: \"Your Information\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          style: {\n            display: 'block',\n            marginBottom: '5px',\n            fontWeight: '500'\n          },\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"name\",\n          name: \"name\",\n          value: formData.name,\n          onChange: handleInputChange,\n          required: true,\n          style: {\n            width: '100%',\n            padding: '10px',\n            borderRadius: styles.borderRadius,\n            border: '1px solid #ddd',\n            fontSize: '16px'\n          },\n          placeholder: \"Your full name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          style: {\n            display: 'block',\n            marginBottom: '5px',\n            fontWeight: '500'\n          },\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          name: \"email\",\n          value: formData.email,\n          onChange: handleInputChange,\n          required: true,\n          style: {\n            width: '100%',\n            padding: '10px',\n            borderRadius: styles.borderRadius,\n            border: '1px solid #ddd',\n            fontSize: '16px'\n          },\n          placeholder: \"Your email address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"phone\",\n          style: {\n            display: 'block',\n            marginBottom: '5px',\n            fontWeight: '500'\n          },\n          children: \"Phone Number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"tel\",\n          id: \"phone\",\n          name: \"phone\",\n          value: formData.phone,\n          onChange: handleInputChange,\n          style: {\n            width: '100%',\n            padding: '10px',\n            borderRadius: styles.borderRadius,\n            border: '1px solid #ddd',\n            fontSize: '16px'\n          },\n          placeholder: \"Your phone number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"booking-actions\",\n        style: {\n          marginTop: '20px',\n          display: 'flex',\n          justifyContent: 'space-between'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: prevStep,\n          style: {\n            backgroundColor: styles.secondaryColor,\n            color: '#333',\n            border: 'none',\n            padding: '10px 20px',\n            borderRadius: styles.borderRadius,\n            cursor: 'pointer',\n            width: '48%'\n          },\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: nextStep,\n          disabled: !formData.name || !formData.email,\n          style: {\n            backgroundColor: styles.primaryColor,\n            color: '#fff',\n            border: 'none',\n            padding: '10px 20px',\n            borderRadius: styles.borderRadius,\n            cursor: 'pointer',\n            width: '48%',\n            opacity: !formData.name || !formData.email ? 0.7 : 1\n          },\n          children: \"Continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 9\n    }, this), step === 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"booking-step\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          color: '#333',\n          marginBottom: '15px'\n        },\n        children: \"Choose Date & Time\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"date\",\n          style: {\n            display: 'block',\n            marginBottom: '5px',\n            fontWeight: '500'\n          },\n          children: \"Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          id: \"date\",\n          name: \"date\",\n          value: formData.date,\n          onChange: handleInputChange,\n          required: true,\n          min: new Date().toISOString().split('T')[0],\n          style: {\n            width: '100%',\n            padding: '10px',\n            borderRadius: styles.borderRadius,\n            border: '1px solid #ddd',\n            fontSize: '16px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"time\",\n          style: {\n            display: 'block',\n            marginBottom: '5px',\n            fontWeight: '500'\n          },\n          children: \"Time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"time\",\n          id: \"time\",\n          name: \"time\",\n          value: formData.time,\n          onChange: handleInputChange,\n          required: true,\n          style: {\n            width: '100%',\n            padding: '10px',\n            borderRadius: styles.borderRadius,\n            border: '1px solid #ddd',\n            fontSize: '16px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"notes\",\n          style: {\n            display: 'block',\n            marginBottom: '5px',\n            fontWeight: '500'\n          },\n          children: \"Additional Notes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"notes\",\n          name: \"notes\",\n          value: formData.notes,\n          onChange: handleInputChange,\n          rows: \"3\",\n          style: {\n            width: '100%',\n            padding: '10px',\n            borderRadius: styles.borderRadius,\n            border: '1px solid #ddd',\n            fontSize: '16px',\n            resize: 'vertical'\n          },\n          placeholder: \"Any special instructions or requests...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"booking-actions\",\n        style: {\n          marginTop: '20px',\n          display: 'flex',\n          justifyContent: 'space-between'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: prevStep,\n          style: {\n            backgroundColor: styles.secondaryColor,\n            color: '#333',\n            border: 'none',\n            padding: '10px 20px',\n            borderRadius: styles.borderRadius,\n            cursor: 'pointer',\n            width: '48%'\n          },\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit,\n          disabled: !formData.date || !formData.time || submitting,\n          style: {\n            backgroundColor: styles.primaryColor,\n            color: '#fff',\n            border: 'none',\n            padding: '10px 20px',\n            borderRadius: styles.borderRadius,\n            cursor: 'pointer',\n            width: '48%',\n            opacity: !formData.date || !formData.time || submitting ? 0.7 : 1\n          },\n          children: submitting ? 'Booking...' : 'Book Appointment'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 9\n    }, this), step === 4 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"booking-step confirmation\",\n      style: {\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '60px',\n          height: '60px',\n          borderRadius: '50%',\n          backgroundColor: '#4CAF50',\n          color: 'white',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          fontSize: '30px',\n          margin: '0 auto 20px'\n        },\n        children: \"\\u2713\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          color: '#333',\n          marginBottom: '15px'\n        },\n        children: \"Booking Confirmed!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginBottom: '20px'\n        },\n        children: \"Your appointment has been scheduled. You will receive a confirmation email shortly.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"booking-summary\",\n        style: {\n          backgroundColor: styles.secondaryColor,\n          padding: '15px',\n          borderRadius: styles.borderRadius,\n          marginBottom: '20px',\n          textAlign: 'left'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Service:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 16\n          }, this), \" \", (_services$find = services.find(s => s._id === formData.serviceId)) === null || _services$find === void 0 ? void 0 : _services$find.title]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 16\n          }, this), \" \", new Date(formData.date).toLocaleDateString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Time:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 16\n          }, this), \" \", formData.time]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          // Reset form and go back to step 1\n          setFormData({\n            serviceId: '',\n            name: '',\n            email: '',\n            phone: '',\n            date: '',\n            time: '',\n            notes: ''\n          });\n          setStep(1);\n        },\n        style: {\n          backgroundColor: styles.primaryColor,\n          color: '#fff',\n          border: 'none',\n          padding: '10px 20px',\n          borderRadius: styles.borderRadius,\n          cursor: 'pointer',\n          width: '100%'\n        },\n        children: \"Book Another Appointment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"booking-widget-footer\",\n      style: {\n        marginTop: '20px',\n        textAlign: 'center',\n        fontSize: '12px',\n        color: '#666'\n      },\n      children: \"Powered by DogServices Booking System\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 5\n  }, this);\n};\n_s(BookingWidget, \"+d8gMn2mCdeOggvf7BCIyTbsta8=\");\n_c = BookingWidget;\nexport default BookingWidget;\nvar _c;\n$RefreshReg$(_c, \"BookingWidget\");","map":{"version":3,"names":["React","useState","useEffect","toast","api","LoadingSpinner","jsxDEV","_jsxDEV","BookingWidget","businessId","config","_s","_services$find","loading","setLoading","services","setServices","step","setStep","submitting","setSubmitting","formData","setFormData","serviceId","name","email","phone","date","time","notes","styles","primaryColor","secondaryColor","fontFamily","borderRadius","fetchServices","response","getServices","data","error","console","handleInputChange","e","value","target","prev","nextStep","prevStep","handleSubmit","preventDefault","_customerResponse$dat","startTime","Date","service","find","s","_id","duration","endTime","getTime","customerData","customerResponse","createOrUpdateCustomer","customerId","customer","Error","bookingData","client","toISOString","status","source","createBooking","_error$response","_error$response$data","className","style","maxWidth","width","margin","padding","boxShadow","backgroundColor","children","fileName","_jsxFileName","lineNumber","columnNumber","textAlign","marginBottom","color","title","logoUrl","src","alt","display","justifyContent","map","stepNum","height","alignItems","fontWeight","length","_service$price","border","cursor","onClick","price","amount","fontSize","description","marginTop","disabled","opacity","htmlFor","type","id","onChange","required","placeholder","min","split","rows","resize","toLocaleDateString","_c","$RefreshReg$"],"sources":["/home/toebot/dog-services-saas/frontend/src/components/widget/BookingWidget.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport api from '../../services/api';\nimport LoadingSpinner from '../common/LoadingSpinner';\n\nconst BookingWidget = ({ businessId, config = {} }) => {\n  const [loading, setLoading] = useState(true);\n  const [services, setServices] = useState([]);\n  const [step, setStep] = useState(1);\n  const [submitting, setSubmitting] = useState(false);\n  \n  const [formData, setFormData] = useState({\n    serviceId: '',\n    name: '',\n    email: '',\n    phone: '',\n    date: '',\n    time: '',\n    notes: '',\n  });\n\n  // Default and custom styling\n  const styles = {\n    primaryColor: config.primaryColor || '#4f46e5',\n    secondaryColor: config.secondaryColor || '#f3f4f6',\n    fontFamily: config.fontFamily || 'sans-serif',\n    borderRadius: config.borderRadius || '8px',\n    ...config.styles\n  };\n\n  // Load services when component mounts\n  useEffect(() => {\n    const fetchServices = async () => {\n      try {\n        const response = await api.getServices(businessId);\n        setServices(response.data.services || []);\n      } catch (error) {\n        console.error('Error fetching services:', error);\n        toast.error('Could not load available services');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchServices();\n  }, [businessId]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const nextStep = () => {\n    if (step === 1 && !formData.serviceId) {\n      toast.error('Please select a service to continue');\n      return;\n    }\n    \n    setStep(prev => prev + 1);\n  };\n\n  const prevStep = () => {\n    setStep(prev => prev - 1);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setSubmitting(true);\n    \n    try {\n      // Format date and time for API\n      const startTime = new Date(`${formData.date}T${formData.time}`);\n      const service = services.find(s => s._id === formData.serviceId);\n      const duration = service?.duration || 60; // Default to 60 minutes\n      const endTime = new Date(startTime.getTime() + duration * 60000);\n      \n      // First create or get customer\n      const customerData = {\n        name: formData.name,\n        email: formData.email,\n        phone: formData.phone\n      };\n      \n      const customerResponse = await api.createOrUpdateCustomer(customerData);\n      const customerId = customerResponse.data.customer?._id;\n      \n      if (!customerId) {\n        throw new Error('Failed to create customer record');\n      }\n      \n      // Create the booking\n      const bookingData = {\n        service: formData.serviceId,\n        client: customerId,\n        businessId: businessId,\n        startTime: startTime.toISOString(),\n        endTime: endTime.toISOString(),\n        notes: {\n          client: formData.notes,\n        },\n        status: 'pending',\n        source: 'widget'\n      };\n      \n      await api.createBooking(bookingData);\n      \n      // Move to success screen\n      setStep(4);\n      \n    } catch (error) {\n      console.error('Error creating appointment:', error);\n      toast.error(error.response?.data?.error || 'Failed to book appointment');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"booking-widget-container\" style={{\n        fontFamily: styles.fontFamily,\n        maxWidth: '100%',\n        width: '400px',\n        margin: '0 auto',\n        padding: '20px',\n        borderRadius: styles.borderRadius,\n        boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n        backgroundColor: '#fff'\n      }}>\n        <LoadingSpinner />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"booking-widget-container\" style={{\n      fontFamily: styles.fontFamily,\n      maxWidth: '100%',\n      width: '400px',\n      margin: '0 auto',\n      padding: '20px',\n      borderRadius: styles.borderRadius,\n      boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n      backgroundColor: '#fff'\n    }}>\n      <div className=\"booking-widget-header\" style={{\n        textAlign: 'center',\n        marginBottom: '20px'\n      }}>\n        <h2 style={{ color: styles.primaryColor, margin: '0 0 10px 0' }}>\n          {config.title || 'Book an Appointment'}\n        </h2>\n        {config.logoUrl && (\n          <img \n            src={config.logoUrl} \n            alt=\"Business Logo\" \n            style={{ maxWidth: '120px', marginBottom: '10px' }} \n          />\n        )}\n      </div>\n\n      {/* Progress Steps */}\n      <div className=\"booking-progress\" style={{\n        display: 'flex',\n        justifyContent: 'space-between',\n        marginBottom: '20px'\n      }}>\n        {[1, 2, 3].map(stepNum => (\n          <div \n            key={stepNum}\n            style={{\n              width: '30px',\n              height: '30px',\n              borderRadius: '50%',\n              backgroundColor: step >= stepNum ? styles.primaryColor : styles.secondaryColor,\n              color: step >= stepNum ? '#fff' : '#333',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              fontWeight: 'bold'\n            }}\n          >\n            {stepNum}\n          </div>\n        ))}\n      </div>\n\n      {/* Step 1: Service Selection */}\n      {step === 1 && (\n        <div className=\"booking-step\">\n          <h3 style={{ color: '#333', marginBottom: '15px' }}>Select a Service</h3>\n          \n          <div className=\"services-list\">\n            {services.length === 0 ? (\n              <p>No services available at this time.</p>\n            ) : (\n              services.map(service => (\n                <div \n                  key={service._id}\n                  className=\"service-item\"\n                  style={{\n                    padding: '15px',\n                    marginBottom: '10px',\n                    border: `2px solid ${formData.serviceId === service._id ? styles.primaryColor : '#e5e7eb'}`,\n                    borderRadius: styles.borderRadius,\n                    cursor: 'pointer',\n                    backgroundColor: formData.serviceId === service._id ? `${styles.primaryColor}15` : '#fff'\n                  }}\n                  onClick={() => setFormData(prev => ({ ...prev, serviceId: service._id }))}\n                >\n                  <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                    <h4 style={{ margin: '0 0 5px 0' }}>{service.title}</h4>\n                    <span style={{ fontWeight: 'bold' }}>${service.price?.amount || 0}</span>\n                  </div>\n                  <p style={{ margin: '5px 0', fontSize: '14px' }}>{service.description}</p>\n                  <div style={{ fontSize: '13px', color: '#666' }}>\n                    <span>{service.duration} min</span>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n\n          <div className=\"booking-actions\" style={{ marginTop: '20px' }}>\n            <button \n              onClick={nextStep}\n              disabled={!formData.serviceId || services.length === 0}\n              style={{\n                backgroundColor: styles.primaryColor,\n                color: '#fff',\n                border: 'none',\n                padding: '10px 20px',\n                borderRadius: styles.borderRadius,\n                cursor: 'pointer',\n                width: '100%',\n                opacity: (!formData.serviceId || services.length === 0) ? 0.7 : 1\n              }}\n            >\n              Continue\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Step 2: Customer Information */}\n      {step === 2 && (\n        <div className=\"booking-step\">\n          <h3 style={{ color: '#333', marginBottom: '15px' }}>Your Information</h3>\n          \n          <div className=\"form-group\" style={{ marginBottom: '15px' }}>\n            <label htmlFor=\"name\" style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>Name</label>\n            <input \n              type=\"text\"\n              id=\"name\"\n              name=\"name\"\n              value={formData.name}\n              onChange={handleInputChange}\n              required\n              style={{\n                width: '100%',\n                padding: '10px',\n                borderRadius: styles.borderRadius,\n                border: '1px solid #ddd',\n                fontSize: '16px'\n              }}\n              placeholder=\"Your full name\"\n            />\n          </div>\n          \n          <div className=\"form-group\" style={{ marginBottom: '15px' }}>\n            <label htmlFor=\"email\" style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>Email</label>\n            <input \n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              value={formData.email}\n              onChange={handleInputChange}\n              required\n              style={{\n                width: '100%',\n                padding: '10px',\n                borderRadius: styles.borderRadius,\n                border: '1px solid #ddd',\n                fontSize: '16px'\n              }}\n              placeholder=\"Your email address\"\n            />\n          </div>\n          \n          <div className=\"form-group\" style={{ marginBottom: '15px' }}>\n            <label htmlFor=\"phone\" style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>Phone Number</label>\n            <input \n              type=\"tel\"\n              id=\"phone\"\n              name=\"phone\"\n              value={formData.phone}\n              onChange={handleInputChange}\n              style={{\n                width: '100%',\n                padding: '10px',\n                borderRadius: styles.borderRadius,\n                border: '1px solid #ddd',\n                fontSize: '16px'\n              }}\n              placeholder=\"Your phone number\"\n            />\n          </div>\n\n          <div className=\"booking-actions\" style={{ \n            marginTop: '20px',\n            display: 'flex',\n            justifyContent: 'space-between'\n          }}>\n            <button \n              onClick={prevStep}\n              style={{\n                backgroundColor: styles.secondaryColor,\n                color: '#333',\n                border: 'none',\n                padding: '10px 20px',\n                borderRadius: styles.borderRadius,\n                cursor: 'pointer',\n                width: '48%'\n              }}\n            >\n              Back\n            </button>\n            <button \n              onClick={nextStep}\n              disabled={!formData.name || !formData.email}\n              style={{\n                backgroundColor: styles.primaryColor,\n                color: '#fff',\n                border: 'none',\n                padding: '10px 20px',\n                borderRadius: styles.borderRadius,\n                cursor: 'pointer',\n                width: '48%',\n                opacity: (!formData.name || !formData.email) ? 0.7 : 1\n              }}\n            >\n              Continue\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Step 3: Date & Time Selection */}\n      {step === 3 && (\n        <div className=\"booking-step\">\n          <h3 style={{ color: '#333', marginBottom: '15px' }}>Choose Date & Time</h3>\n          \n          <div className=\"form-group\" style={{ marginBottom: '15px' }}>\n            <label htmlFor=\"date\" style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>Date</label>\n            <input \n              type=\"date\"\n              id=\"date\"\n              name=\"date\"\n              value={formData.date}\n              onChange={handleInputChange}\n              required\n              min={new Date().toISOString().split('T')[0]}\n              style={{\n                width: '100%',\n                padding: '10px',\n                borderRadius: styles.borderRadius,\n                border: '1px solid #ddd',\n                fontSize: '16px'\n              }}\n            />\n          </div>\n          \n          <div className=\"form-group\" style={{ marginBottom: '15px' }}>\n            <label htmlFor=\"time\" style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>Time</label>\n            <input \n              type=\"time\"\n              id=\"time\"\n              name=\"time\"\n              value={formData.time}\n              onChange={handleInputChange}\n              required\n              style={{\n                width: '100%',\n                padding: '10px',\n                borderRadius: styles.borderRadius,\n                border: '1px solid #ddd',\n                fontSize: '16px'\n              }}\n            />\n          </div>\n          \n          <div className=\"form-group\" style={{ marginBottom: '15px' }}>\n            <label htmlFor=\"notes\" style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>Additional Notes</label>\n            <textarea\n              id=\"notes\"\n              name=\"notes\"\n              value={formData.notes}\n              onChange={handleInputChange}\n              rows=\"3\"\n              style={{\n                width: '100%',\n                padding: '10px',\n                borderRadius: styles.borderRadius,\n                border: '1px solid #ddd',\n                fontSize: '16px',\n                resize: 'vertical'\n              }}\n              placeholder=\"Any special instructions or requests...\"\n            />\n          </div>\n\n          <div className=\"booking-actions\" style={{ \n            marginTop: '20px',\n            display: 'flex',\n            justifyContent: 'space-between'\n          }}>\n            <button \n              onClick={prevStep}\n              style={{\n                backgroundColor: styles.secondaryColor,\n                color: '#333',\n                border: 'none',\n                padding: '10px 20px',\n                borderRadius: styles.borderRadius,\n                cursor: 'pointer',\n                width: '48%'\n              }}\n            >\n              Back\n            </button>\n            <button \n              onClick={handleSubmit}\n              disabled={!formData.date || !formData.time || submitting}\n              style={{\n                backgroundColor: styles.primaryColor,\n                color: '#fff',\n                border: 'none',\n                padding: '10px 20px',\n                borderRadius: styles.borderRadius,\n                cursor: 'pointer',\n                width: '48%',\n                opacity: (!formData.date || !formData.time || submitting) ? 0.7 : 1\n              }}\n            >\n              {submitting ? 'Booking...' : 'Book Appointment'}\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Step 4: Confirmation */}\n      {step === 4 && (\n        <div className=\"booking-step confirmation\" style={{ textAlign: 'center' }}>\n          <div style={{ \n            width: '60px', \n            height: '60px', \n            borderRadius: '50%', \n            backgroundColor: '#4CAF50',\n            color: 'white',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: '30px',\n            margin: '0 auto 20px'\n          }}>\n            âœ“\n          </div>\n          \n          <h3 style={{ color: '#333', marginBottom: '15px' }}>Booking Confirmed!</h3>\n          <p style={{ marginBottom: '20px' }}>\n            Your appointment has been scheduled. You will receive a confirmation email shortly.\n          </p>\n          \n          <div className=\"booking-summary\" style={{\n            backgroundColor: styles.secondaryColor,\n            padding: '15px',\n            borderRadius: styles.borderRadius,\n            marginBottom: '20px',\n            textAlign: 'left'\n          }}>\n            <p><strong>Service:</strong> {services.find(s => s._id === formData.serviceId)?.title}</p>\n            <p><strong>Date:</strong> {new Date(formData.date).toLocaleDateString()}</p>\n            <p><strong>Time:</strong> {formData.time}</p>\n          </div>\n          \n          <button \n            onClick={() => {\n              // Reset form and go back to step 1\n              setFormData({\n                serviceId: '',\n                name: '',\n                email: '',\n                phone: '',\n                date: '',\n                time: '',\n                notes: '',\n              });\n              setStep(1);\n            }}\n            style={{\n              backgroundColor: styles.primaryColor,\n              color: '#fff',\n              border: 'none',\n              padding: '10px 20px',\n              borderRadius: styles.borderRadius,\n              cursor: 'pointer',\n              width: '100%'\n            }}\n          >\n            Book Another Appointment\n          </button>\n        </div>\n      )}\n\n      <div className=\"booking-widget-footer\" style={{\n        marginTop: '20px',\n        textAlign: 'center',\n        fontSize: '12px',\n        color: '#666'\n      }}>\n        Powered by DogServices Booking System\n      </div>\n    </div>\n  );\n};\n\nexport default BookingWidget;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}