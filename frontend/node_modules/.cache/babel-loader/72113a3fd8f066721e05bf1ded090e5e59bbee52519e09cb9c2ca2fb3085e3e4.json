{"ast":null,"code":"import React,{useState,useEffect}from'react';import{toast}from'react-toastify';import PageHeader from'../components/common/PageHeader';import LoadingSpinner from'../components/common/LoadingSpinner';import api from'../services/api';import{useAuth}from'../context/AuthContext';import{useBusiness}from'../context/BusinessContext';import'../styles/booking-page.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookingPageSetup=()=>{const{currentUser}=useAuth();const{businessProfile}=useBusiness();const businessId=(businessProfile===null||businessProfile===void 0?void 0:businessProfile._id)||'';const[loading,setLoading]=useState(true);const[saving,setSaving]=useState(false);const[copied,setCopied]=useState(false);const[services,setServices]=useState([]);const[activeTab,setActiveTab]=useState('general');// Demo services for testing\nconst DEMO_SERVICES=[{_id:'service-1',title:'Basic Dog Grooming',description:'Complete grooming service including bath, brush, nail trim, ear cleaning, and basic haircut.',price:{amount:45.00,currency:'USD'},duration:60},{_id:'service-2',title:'Deluxe Dog Grooming',description:'Premium grooming package with specialized shampoo, conditioner, teeth brushing, and styled haircut.',price:{amount:65.00,currency:'USD'},duration:90},{_id:'service-3',title:'Dog Walking - 30 min',description:'A 30-minute walk for your dog with personalized attention and exercise.',price:{amount:25.00,currency:'USD'},duration:30},{_id:'service-4',title:'Dog Training Session',description:'One-hour training session focusing on basic commands, leash training, and behavior correction.',price:{amount:75.00,currency:'USD'},duration:60}];// Booking page configuration state\nconst[config,setConfig]=useState({title:'Book an Appointment',subtitle:'Follow the steps below to schedule your service',businessName:(businessProfile===null||businessProfile===void 0?void 0:businessProfile.name)||'My Business',businessDescription:(businessProfile===null||businessProfile===void 0?void 0:businessProfile.description)||'Professional services',logoUrl:'',primaryColor:'#4f46e5',showPrices:true,allowNotes:true,requirePhone:false,enabledServices:[],showAllServices:true,emailNotifications:true,confirmationMessage:'Your appointment has been scheduled. You will receive a confirmation email shortly.'});// Generate the booking page URL with configuration parameters\nconst getBookingPageUrl=()=>{const baseUrl=window.location.origin;const params=new URLSearchParams();params.append('businessId',businessId);// Only add configuration params if they differ from defaults\nif(!config.showAllServices&&config.enabledServices.length>0){params.append('services',config.enabledServices.join(','));}if(config.primaryColor!=='#4f46e5'){params.append('color',encodeURIComponent(config.primaryColor));}if(config.title!=='Book an Appointment'){params.append('title',encodeURIComponent(config.title));}return`${baseUrl}/booking?${params.toString()}`;};// Load services and existing configuration\nuseEffect(()=>{const fetchData=async()=>{try{// Use demo services for this demo\nsetServices(DEMO_SERVICES);// Try to load existing configuration\ntry{// For demo purposes, we'll just simulate loading a config\n// In a real app, this would be: const configResponse = await api.getBookingPageConfig(businessId);\n// Set default enabled services to all services\nsetConfig(prev=>({...prev,enabledServices:DEMO_SERVICES.map(s=>s._id)}));}catch(configError){console.log('No existing configuration found, using defaults');// Set default enabled services to all services\nsetConfig(prev=>({...prev,enabledServices:DEMO_SERVICES.map(s=>s._id)}));}}catch(error){console.error('Error fetching data:',error);toast.error('Failed to load service information');}finally{setLoading(false);}};fetchData();},[]);// Handle input changes\nconst handleInputChange=e=>{const{name,value,type,checked}=e.target;setConfig(prev=>({...prev,[name]:type==='checkbox'?checked:value}));};// Handle service toggle\nconst handleServiceToggle=serviceId=>{setConfig(prev=>{const enabledServices=[...prev.enabledServices];if(enabledServices.includes(serviceId)){return{...prev,enabledServices:enabledServices.filter(id=>id!==serviceId)};}else{return{...prev,enabledServices:[...enabledServices,serviceId]};}});};// Toggle all services\nconst toggleAllServices=select=>{if(select){setConfig(prev=>({...prev,enabledServices:services.map(s=>s._id)}));}else{setConfig(prev=>({...prev,enabledServices:[]}));}};// Save configuration\nconst saveConfig=async()=>{setSaving(true);try{// Simulate API call\n// In a real app: await api.saveBookingPageConfig(businessId, { config });\n// For demo, we'll just wait a second to simulate saving\nawait new Promise(resolve=>setTimeout(resolve,1000));toast.success('Booking page configuration saved successfully');}catch(error){console.error('Error saving configuration:',error);toast.error('Failed to save configuration');}finally{setSaving(false);}};// Copy to clipboard utility\nconst copyToClipboard=text=>{navigator.clipboard.writeText(text).then(()=>{setCopied(true);toast.success('Link copied to clipboard!');setTimeout(()=>setCopied(false),3000);}).catch(err=>{console.error('Could not copy text: ',err);toast.error('Failed to copy link');});};if(loading){return/*#__PURE__*/_jsx(LoadingSpinner,{});}const bookingPageUrl=getBookingPageUrl();// Generate HTML button code\nconst generateButtonCode=()=>{return`<a href=\"${bookingPageUrl}\" target=\"_blank\" \nstyle=\"display: inline-block; background-color: ${config.primaryColor}; color: white; \npadding: 10px 20px; text-decoration: none; border-radius: 4px; font-family: sans-serif;\">\nBook Now</a>`;};return/*#__PURE__*/_jsxs(\"div\",{className:\"page-container booking-setup-page\",children:[/*#__PURE__*/_jsx(PageHeader,{title:\"Booking Page Setup\",description:\"Configure and share your booking page with clients or add it to your website\"}),services.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-warning\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle mr-2\"}),\"You don't have any services set up yet. Please add some services before configuring your booking page.\"]}):/*#__PURE__*/_jsxs(\"div\",{className:\"settings-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"settings-sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"settings-nav\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"settings-nav-title\",children:\"Configuration\"}),/*#__PURE__*/_jsxs(\"div\",{className:`settings-nav-item ${activeTab==='general'?'active':''}`,onClick:()=>setActiveTab('general'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-cog mr-2\"}),\"General Settings\"]}),/*#__PURE__*/_jsxs(\"div\",{className:`settings-nav-item ${activeTab==='appearance'?'active':''}`,onClick:()=>setActiveTab('appearance'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-palette mr-2\"}),\"Appearance\"]}),/*#__PURE__*/_jsxs(\"div\",{className:`settings-nav-item ${activeTab==='services'?'active':''}`,onClick:()=>setActiveTab('services'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-list-check mr-2\"}),\"Services\"]}),/*#__PURE__*/_jsx(\"h4\",{className:\"settings-nav-title mt-4\",children:\"Distribution\"}),/*#__PURE__*/_jsxs(\"div\",{className:`settings-nav-item ${activeTab==='share'?'active':''}`,onClick:()=>setActiveTab('share'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-share-alt mr-2\"}),\"Share\"]}),/*#__PURE__*/_jsxs(\"div\",{className:`settings-nav-item ${activeTab==='preview'?'active':''}`,onClick:()=>setActiveTab('preview'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye mr-2\"}),\"Preview\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"settings-action mt-auto\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-block\",onClick:saveConfig,disabled:saving,children:saving?'Saving...':'Save All Settings'})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"settings-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:activeTab==='general'?'General Settings':activeTab==='appearance'?'Appearance Settings':activeTab==='services'?'Service Settings':activeTab==='share'?'Share Your Booking Page':'Booking Page Preview'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:activeTab==='general'?'Configure the general settings for your booking page.':activeTab==='appearance'?'Customize the look and feel of your booking page.':activeTab==='services'?'Choose which services to offer on your booking page.':activeTab==='share'?'Share your booking page with clients or add it to your website.':'Preview what your clients will see when they visit your booking page.'})]}),activeTab==='general'&&/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"settings-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"businessName\",children:\"Business Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"businessName\",name:\"businessName\",className:\"form-control\",value:config.businessName,onChange:handleInputChange,placeholder:\"Your business name\"}),/*#__PURE__*/_jsx(\"small\",{className:\"form-text text-muted\",children:\"This will appear in the header of your booking page.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"businessDescription\",children:\"Business Description\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"businessDescription\",name:\"businessDescription\",className:\"form-control\",value:config.businessDescription,onChange:handleInputChange,rows:\"2\",placeholder:\"Short description of your business\"}),/*#__PURE__*/_jsx(\"small\",{className:\"form-text text-muted\",children:\"A brief description that will appear below your business name.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Page Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",className:\"form-control\",value:config.title,onChange:handleInputChange,placeholder:\"Book an Appointment\"}),/*#__PURE__*/_jsx(\"small\",{className:\"form-text text-muted\",children:\"The main heading displayed on your booking page.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"subtitle\",children:\"Page Subtitle\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"subtitle\",name:\"subtitle\",className:\"form-control\",value:config.subtitle,onChange:handleInputChange,placeholder:\"Follow the steps below to schedule your service\"}),/*#__PURE__*/_jsx(\"small\",{className:\"form-text text-muted\",children:\"The text displayed below the title.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmationMessage\",children:\"Confirmation Message\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"confirmationMessage\",name:\"confirmationMessage\",className:\"form-control\",value:config.confirmationMessage,onChange:handleInputChange,rows:\"2\",placeholder:\"Thank you for your booking...\"}),/*#__PURE__*/_jsx(\"small\",{className:\"form-text text-muted\",children:\"Message displayed after a successful booking.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input\",id:\"requirePhone\",name:\"requirePhone\",checked:config.requirePhone,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"requirePhone\",children:\"Require phone number\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input\",id:\"emailNotifications\",name:\"emailNotifications\",checked:config.emailNotifications,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"emailNotifications\",children:\"Send email notifications\"})]})]})})}),activeTab==='appearance'&&/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"settings-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"logoUrl\",children:\"Logo URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"logoUrl\",name:\"logoUrl\",className:\"form-control\",value:config.logoUrl,onChange:handleInputChange,placeholder:\"https://example.com/your-logo.png\"}),/*#__PURE__*/_jsx(\"small\",{className:\"form-text text-muted\",children:\"URL to your logo image (optional).\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"primaryColor\",children:\"Primary Color\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"color-preview mr-2\",style:{width:'40px',height:'38px',backgroundColor:config.primaryColor,border:'1px solid #ced4da',borderRadius:'0.25rem',marginRight:'10px'}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"primaryColor\",name:\"primaryColor\",className:\"form-control\",value:config.primaryColor,onChange:handleInputChange,placeholder:\"#4f46e5\"})]}),/*#__PURE__*/_jsx(\"small\",{className:\"form-text text-muted\",children:\"The main color used for buttons and accents. Use hex format (e.g., #4f46e5).\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input\",id:\"showPrices\",name:\"showPrices\",checked:config.showPrices,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"showPrices\",children:\"Show service prices\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input\",id:\"allowNotes\",name:\"allowNotes\",checked:config.allowNotes,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"allowNotes\",children:\"Allow customers to add notes\"})]})]})})}),activeTab==='services'&&/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"settings-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-check mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input\",id:\"showAllServices\",name:\"showAllServices\",checked:config.showAllServices,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"showAllServices\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Show all services\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted small mt-1\",children:\"When enabled, all active services will be available on your booking page. When disabled, you can select specific services below.\"})]}),!config.showAllServices&&/*#__PURE__*/_jsxs(\"div\",{className:\"service-selection\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-primary mr-2\",onClick:()=>toggleAllServices(true),children:\"Select All\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-secondary\",onClick:()=>toggleAllServices(false),children:\"Deselect All\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"list-group\",children:services.map(service=>{var _service$price;return/*#__PURE__*/_jsx(\"div\",{className:\"list-group-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input\",id:`service-${service._id}`,checked:config.enabledServices.includes(service._id),onChange:()=>handleServiceToggle(service._id)}),/*#__PURE__*/_jsxs(\"label\",{className:\"form-check-label\",htmlFor:`service-${service._id}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between w-100\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"strong\",{children:service.title})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted\",children:[\"$\",((_service$price=service.price)===null||_service$price===void 0?void 0:_service$price.amount)||0]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted small\",children:service.description})]})]})},service._id);})})]})]})})}),activeTab==='share'&&/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"settings-form\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-4\",children:\"Your booking page allows clients to schedule appointments directly. You can share this link with clients or add it to your website.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mt-4 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"booking-url p-3 bg-light rounded flex-grow-1 mr-2\",style:{border:'1px solid #dee2e6',overflowX:'auto',whiteSpace:'nowrap'},children:/*#__PURE__*/_jsx(\"a\",{href:bookingPageUrl,target:\"_blank\",rel:\"noreferrer\",children:bookingPageUrl})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary ml-2\",onClick:()=>copyToClipboard(bookingPageUrl),children:copied?'Copied!':'Copy'})]}),/*#__PURE__*/_jsx(\"h4\",{className:\"mt-4 mb-3\",children:\"Share Options\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-link mr-2\"}),\"Direct Link\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:\"Share this link directly with your clients via email, text messages, or social media.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary\",onClick:()=>copyToClipboard(bookingPageUrl),children:\"Copy Link\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-code mr-2\"}),\"Website Button\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:\"Add a \\\"Book Now\\\" button to your website that links to your booking page.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-light p-2 rounded\",style:{fontSize:'0.9rem',overflowX:'auto'},children:generateButtonCode()})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary\",onClick:()=>copyToClipboard(generateButtonCode()),children:\"Copy Code\"})]})})})]})]})})}),activeTab==='preview'&&/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"settings-form\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-4\",children:\"This is what your clients will see when they visit your booking page.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"booking-preview mt-4\",style:{border:'1px solid #dee2e6',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:'15px',borderBottom:'1px solid #dee2e6',backgroundColor:'#f8f9fa'},children:/*#__PURE__*/_jsx(\"h5\",{style:{margin:0},children:\"Booking Page Preview\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{height:'600px',overflow:'hidden',position:'relative'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(255,255,255,0.7)',zIndex:1,display:'flex',alignItems:'center',justifyContent:'center',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Preview Mode\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"This is how your booking page will appear to clients.\"}),/*#__PURE__*/_jsx(\"a\",{href:bookingPageUrl,target:\"_blank\",rel:\"noreferrer\",className:\"btn btn-primary mt-3\",style:{backgroundColor:config.primaryColor,borderColor:config.primaryColor},children:\"Open actual booking page\"})]}),/*#__PURE__*/_jsx(\"iframe\",{src:bookingPageUrl,title:\"Booking Page Preview\",style:{border:'none',width:'100%',height:'100%'}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-info mt-4\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tip:\"}),\" To ensure your clients can book appointments successfully, make sure you have services and availability configured in your account settings.\"]})]})})})]})]})]});};export default BookingPageSetup;","map":{"version":3,"names":["React","useState","useEffect","toast","PageHeader","LoadingSpinner","api","useAuth","useBusiness","jsx","_jsx","jsxs","_jsxs","BookingPageSetup","currentUser","businessProfile","businessId","_id","loading","setLoading","saving","setSaving","copied","setCopied","services","setServices","activeTab","setActiveTab","DEMO_SERVICES","title","description","price","amount","currency","duration","config","setConfig","subtitle","businessName","name","businessDescription","logoUrl","primaryColor","showPrices","allowNotes","requirePhone","enabledServices","showAllServices","emailNotifications","confirmationMessage","getBookingPageUrl","baseUrl","window","location","origin","params","URLSearchParams","append","length","join","encodeURIComponent","toString","fetchData","prev","map","s","configError","console","log","error","handleInputChange","e","value","type","checked","target","handleServiceToggle","serviceId","includes","filter","id","toggleAllServices","select","saveConfig","Promise","resolve","setTimeout","success","copyToClipboard","text","navigator","clipboard","writeText","then","catch","err","bookingPageUrl","generateButtonCode","className","children","onClick","disabled","htmlFor","onChange","placeholder","rows","style","width","height","backgroundColor","border","borderRadius","marginRight","service","_service$price","overflowX","whiteSpace","href","rel","fontSize","padding","borderBottom","margin","overflow","position","top","left","right","bottom","zIndex","display","alignItems","justifyContent","flexDirection","borderColor","src"],"sources":["/home/toebot/dog-services-saas/frontend/src/pages/BookingPageSetup.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport PageHeader from '../components/common/PageHeader';\nimport LoadingSpinner from '../components/common/LoadingSpinner';\nimport api from '../services/api';\nimport { useAuth } from '../context/AuthContext';\nimport { useBusiness } from '../context/BusinessContext';\nimport '../styles/booking-page.css';\n\nconst BookingPageSetup = () => {\n  const { currentUser } = useAuth();\n  const { businessProfile } = useBusiness();\n  const businessId = businessProfile?._id || '';\n  \n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [copied, setCopied] = useState(false);\n  const [services, setServices] = useState([]);\n  const [activeTab, setActiveTab] = useState('general');\n  \n  // Demo services for testing\n  const DEMO_SERVICES = [\n    {\n      _id: 'service-1',\n      title: 'Basic Dog Grooming',\n      description: 'Complete grooming service including bath, brush, nail trim, ear cleaning, and basic haircut.',\n      price: { amount: 45.00, currency: 'USD' },\n      duration: 60\n    },\n    {\n      _id: 'service-2',\n      title: 'Deluxe Dog Grooming',\n      description: 'Premium grooming package with specialized shampoo, conditioner, teeth brushing, and styled haircut.',\n      price: { amount: 65.00, currency: 'USD' },\n      duration: 90\n    },\n    {\n      _id: 'service-3',\n      title: 'Dog Walking - 30 min',\n      description: 'A 30-minute walk for your dog with personalized attention and exercise.',\n      price: { amount: 25.00, currency: 'USD' },\n      duration: 30\n    },\n    {\n      _id: 'service-4',\n      title: 'Dog Training Session',\n      description: 'One-hour training session focusing on basic commands, leash training, and behavior correction.',\n      price: { amount: 75.00, currency: 'USD' },\n      duration: 60\n    }\n  ];\n  \n  // Booking page configuration state\n  const [config, setConfig] = useState({\n    title: 'Book an Appointment',\n    subtitle: 'Follow the steps below to schedule your service',\n    businessName: businessProfile?.name || 'My Business',\n    businessDescription: businessProfile?.description || 'Professional services',\n    logoUrl: '',\n    primaryColor: '#4f46e5',\n    showPrices: true,\n    allowNotes: true,\n    requirePhone: false,\n    enabledServices: [],\n    showAllServices: true,\n    emailNotifications: true,\n    confirmationMessage: 'Your appointment has been scheduled. You will receive a confirmation email shortly.'\n  });\n\n  // Generate the booking page URL with configuration parameters\n  const getBookingPageUrl = () => {\n    const baseUrl = window.location.origin;\n    const params = new URLSearchParams();\n    params.append('businessId', businessId);\n    \n    // Only add configuration params if they differ from defaults\n    if (!config.showAllServices && config.enabledServices.length > 0) {\n      params.append('services', config.enabledServices.join(','));\n    }\n    \n    if (config.primaryColor !== '#4f46e5') {\n      params.append('color', encodeURIComponent(config.primaryColor));\n    }\n    \n    if (config.title !== 'Book an Appointment') {\n      params.append('title', encodeURIComponent(config.title));\n    }\n    \n    return `${baseUrl}/booking?${params.toString()}`;\n  };\n\n  // Load services and existing configuration\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        // Use demo services for this demo\n        setServices(DEMO_SERVICES);\n        \n        // Try to load existing configuration\n        try {\n          // For demo purposes, we'll just simulate loading a config\n          // In a real app, this would be: const configResponse = await api.getBookingPageConfig(businessId);\n          \n          // Set default enabled services to all services\n          setConfig(prev => ({\n            ...prev,\n            enabledServices: DEMO_SERVICES.map(s => s._id)\n          }));\n          \n        } catch (configError) {\n          console.log('No existing configuration found, using defaults');\n          // Set default enabled services to all services\n          setConfig(prev => ({\n            ...prev,\n            enabledServices: DEMO_SERVICES.map(s => s._id)\n          }));\n        }\n      } catch (error) {\n        console.error('Error fetching data:', error);\n        toast.error('Failed to load service information');\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    fetchData();\n  }, []);\n\n  // Handle input changes\n  const handleInputChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setConfig(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n  };\n  \n  // Handle service toggle\n  const handleServiceToggle = (serviceId) => {\n    setConfig(prev => {\n      const enabledServices = [...prev.enabledServices];\n      if (enabledServices.includes(serviceId)) {\n        return {\n          ...prev,\n          enabledServices: enabledServices.filter(id => id !== serviceId)\n        };\n      } else {\n        return {\n          ...prev,\n          enabledServices: [...enabledServices, serviceId]\n        };\n      }\n    });\n  };\n  \n  // Toggle all services\n  const toggleAllServices = (select) => {\n    if (select) {\n      setConfig(prev => ({\n        ...prev,\n        enabledServices: services.map(s => s._id)\n      }));\n    } else {\n      setConfig(prev => ({\n        ...prev,\n        enabledServices: []\n      }));\n    }\n  };\n  \n  // Save configuration\n  const saveConfig = async () => {\n    setSaving(true);\n    try {\n      // Simulate API call\n      // In a real app: await api.saveBookingPageConfig(businessId, { config });\n      \n      // For demo, we'll just wait a second to simulate saving\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      toast.success('Booking page configuration saved successfully');\n    } catch (error) {\n      console.error('Error saving configuration:', error);\n      toast.error('Failed to save configuration');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Copy to clipboard utility\n  const copyToClipboard = (text) => {\n    navigator.clipboard.writeText(text)\n      .then(() => {\n        setCopied(true);\n        toast.success('Link copied to clipboard!');\n        setTimeout(() => setCopied(false), 3000);\n      })\n      .catch(err => {\n        console.error('Could not copy text: ', err);\n        toast.error('Failed to copy link');\n      });\n  };\n\n  if (loading) {\n    return <LoadingSpinner />;\n  }\n\n  const bookingPageUrl = getBookingPageUrl();\n  \n  // Generate HTML button code\n  const generateButtonCode = () => {\n    return `<a href=\"${bookingPageUrl}\" target=\"_blank\" \nstyle=\"display: inline-block; background-color: ${config.primaryColor}; color: white; \npadding: 10px 20px; text-decoration: none; border-radius: 4px; font-family: sans-serif;\">\nBook Now</a>`;\n  };\n\n  return (\n    <div className=\"page-container booking-setup-page\">\n      <PageHeader \n        title=\"Booking Page Setup\" \n        description=\"Configure and share your booking page with clients or add it to your website\"\n      />\n      \n      {services.length === 0 ? (\n        <div className=\"alert alert-warning\">\n          <i className=\"fas fa-exclamation-triangle mr-2\"></i>\n          You don't have any services set up yet. Please add some services before configuring your booking page.\n        </div>\n      ) : (\n        <div className=\"settings-container\">\n          {/* Sidebar navigation for settings */}\n          <div className=\"settings-sidebar\">\n            <div className=\"settings-nav\">\n              <h4 className=\"settings-nav-title\">Configuration</h4>\n              \n              <div \n                className={`settings-nav-item ${activeTab === 'general' ? 'active' : ''}`}\n                onClick={() => setActiveTab('general')}\n              >\n                <i className=\"fas fa-cog mr-2\"></i>\n                General Settings\n              </div>\n              \n              <div \n                className={`settings-nav-item ${activeTab === 'appearance' ? 'active' : ''}`}\n                onClick={() => setActiveTab('appearance')}\n              >\n                <i className=\"fas fa-palette mr-2\"></i>\n                Appearance\n              </div>\n              \n              <div \n                className={`settings-nav-item ${activeTab === 'services' ? 'active' : ''}`}\n                onClick={() => setActiveTab('services')}\n              >\n                <i className=\"fas fa-list-check mr-2\"></i>\n                Services\n              </div>\n              \n              <h4 className=\"settings-nav-title mt-4\">Distribution</h4>\n              \n              <div \n                className={`settings-nav-item ${activeTab === 'share' ? 'active' : ''}`}\n                onClick={() => setActiveTab('share')}\n              >\n                <i className=\"fas fa-share-alt mr-2\"></i>\n                Share\n              </div>\n              \n              <div \n                className={`settings-nav-item ${activeTab === 'preview' ? 'active' : ''}`}\n                onClick={() => setActiveTab('preview')}\n              >\n                <i className=\"fas fa-eye mr-2\"></i>\n                Preview\n              </div>\n            </div>\n            \n            <div className=\"settings-action mt-auto\">\n              <button \n                className=\"btn btn-primary btn-block\" \n                onClick={saveConfig}\n                disabled={saving}\n              >\n                {saving ? 'Saving...' : 'Save All Settings'}\n              </button>\n            </div>\n          </div>\n          \n          {/* Main content area */}\n          <div className=\"settings-content\">\n            <div className=\"settings-header\">\n              <h2>{activeTab === 'general' ? 'General Settings' : \n                  activeTab === 'appearance' ? 'Appearance Settings' : \n                  activeTab === 'services' ? 'Service Settings' : \n                  activeTab === 'share' ? 'Share Your Booking Page' : \n                  'Booking Page Preview'}</h2>\n              <p className=\"text-muted\">\n                {activeTab === 'general' ? 'Configure the general settings for your booking page.' : \n                 activeTab === 'appearance' ? 'Customize the look and feel of your booking page.' : \n                 activeTab === 'services' ? 'Choose which services to offer on your booking page.' : \n                 activeTab === 'share' ? 'Share your booking page with clients or add it to your website.' : \n                 'Preview what your clients will see when they visit your booking page.'}\n              </p>\n            </div>\n          \n            {/* General Settings Tab */}\n            {activeTab === 'general' && (\n              <div className=\"card\">\n                <div className=\"card-body\">\n                  <div className=\"settings-form\">\n                  \n                    <div className=\"form-group mb-3\">\n                      <label htmlFor=\"businessName\">Business Name</label>\n                      <input\n                        type=\"text\"\n                        id=\"businessName\"\n                        name=\"businessName\"\n                        className=\"form-control\"\n                        value={config.businessName}\n                        onChange={handleInputChange}\n                        placeholder=\"Your business name\"\n                      />\n                      <small className=\"form-text text-muted\">\n                        This will appear in the header of your booking page.\n                      </small>\n                    </div>\n                    \n                    <div className=\"form-group mb-3\">\n                      <label htmlFor=\"businessDescription\">Business Description</label>\n                      <textarea\n                        id=\"businessDescription\"\n                        name=\"businessDescription\"\n                        className=\"form-control\"\n                        value={config.businessDescription}\n                        onChange={handleInputChange}\n                        rows=\"2\"\n                        placeholder=\"Short description of your business\"\n                      />\n                      <small className=\"form-text text-muted\">\n                        A brief description that will appear below your business name.\n                      </small>\n                    </div>\n                    \n                    <div className=\"form-group mb-3\">\n                      <label htmlFor=\"title\">Page Title</label>\n                      <input\n                        type=\"text\"\n                        id=\"title\"\n                        name=\"title\"\n                        className=\"form-control\"\n                        value={config.title}\n                        onChange={handleInputChange}\n                        placeholder=\"Book an Appointment\"\n                      />\n                      <small className=\"form-text text-muted\">\n                        The main heading displayed on your booking page.\n                      </small>\n                    </div>\n                    \n                    <div className=\"form-group mb-3\">\n                      <label htmlFor=\"subtitle\">Page Subtitle</label>\n                      <input\n                        type=\"text\"\n                        id=\"subtitle\"\n                        name=\"subtitle\"\n                        className=\"form-control\"\n                        value={config.subtitle}\n                        onChange={handleInputChange}\n                        placeholder=\"Follow the steps below to schedule your service\"\n                      />\n                      <small className=\"form-text text-muted\">\n                        The text displayed below the title.\n                      </small>\n                    </div>\n                    \n                    <div className=\"form-group mb-3\">\n                      <label htmlFor=\"confirmationMessage\">Confirmation Message</label>\n                      <textarea\n                        id=\"confirmationMessage\"\n                        name=\"confirmationMessage\"\n                        className=\"form-control\"\n                        value={config.confirmationMessage}\n                        onChange={handleInputChange}\n                        rows=\"2\"\n                        placeholder=\"Thank you for your booking...\"\n                      />\n                      <small className=\"form-text text-muted\">\n                        Message displayed after a successful booking.\n                      </small>\n                    </div>\n                    \n                    <div className=\"form-check mb-3\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input\"\n                        id=\"requirePhone\"\n                        name=\"requirePhone\"\n                        checked={config.requirePhone}\n                        onChange={handleInputChange}\n                      />\n                      <label className=\"form-check-label\" htmlFor=\"requirePhone\">\n                        Require phone number\n                      </label>\n                    </div>\n                    \n                    <div className=\"form-check mb-3\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input\"\n                        id=\"emailNotifications\"\n                        name=\"emailNotifications\"\n                        checked={config.emailNotifications}\n                        onChange={handleInputChange}\n                      />\n                      <label className=\"form-check-label\" htmlFor=\"emailNotifications\">\n                        Send email notifications\n                      </label>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n            \n            {/* Appearance Tab */}\n            {activeTab === 'appearance' && (\n              <div className=\"card\">\n                <div className=\"card-body\">\n                  <div className=\"settings-form\">\n                  \n                    <div className=\"form-group mb-3\">\n                      <label htmlFor=\"logoUrl\">Logo URL</label>\n                      <input\n                        type=\"text\"\n                        id=\"logoUrl\"\n                        name=\"logoUrl\"\n                        className=\"form-control\"\n                        value={config.logoUrl}\n                        onChange={handleInputChange}\n                        placeholder=\"https://example.com/your-logo.png\"\n                      />\n                      <small className=\"form-text text-muted\">\n                        URL to your logo image (optional).\n                      </small>\n                    </div>\n                    \n                    <div className=\"form-group mb-3\">\n                      <label htmlFor=\"primaryColor\">Primary Color</label>\n                      <div className=\"input-group\">\n                        <div\n                          className=\"color-preview mr-2\"\n                          style={{\n                            width: '40px',\n                            height: '38px',\n                            backgroundColor: config.primaryColor,\n                            border: '1px solid #ced4da',\n                            borderRadius: '0.25rem',\n                            marginRight: '10px'\n                          }}\n                        ></div>\n                        <input\n                          type=\"text\"\n                          id=\"primaryColor\"\n                          name=\"primaryColor\"\n                          className=\"form-control\"\n                          value={config.primaryColor}\n                          onChange={handleInputChange}\n                          placeholder=\"#4f46e5\"\n                        />\n                      </div>\n                      <small className=\"form-text text-muted\">\n                        The main color used for buttons and accents. Use hex format (e.g., #4f46e5).\n                      </small>\n                    </div>\n                    \n                    <div className=\"form-check mb-3\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input\"\n                        id=\"showPrices\"\n                        name=\"showPrices\"\n                        checked={config.showPrices}\n                        onChange={handleInputChange}\n                      />\n                      <label className=\"form-check-label\" htmlFor=\"showPrices\">\n                        Show service prices\n                      </label>\n                    </div>\n                    \n                    <div className=\"form-check mb-3\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input\"\n                        id=\"allowNotes\"\n                        name=\"allowNotes\"\n                        checked={config.allowNotes}\n                        onChange={handleInputChange}\n                      />\n                      <label className=\"form-check-label\" htmlFor=\"allowNotes\">\n                        Allow customers to add notes\n                      </label>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n            \n            {/* Services Tab */}\n            {activeTab === 'services' && (\n              <div className=\"card\">\n                <div className=\"card-body\">\n                  <div className=\"settings-form\">\n                  \n                    <div className=\"form-check mb-4\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input\"\n                        id=\"showAllServices\"\n                        name=\"showAllServices\"\n                        checked={config.showAllServices}\n                        onChange={handleInputChange}\n                      />\n                      <label className=\"form-check-label\" htmlFor=\"showAllServices\">\n                        <strong>Show all services</strong>\n                      </label>\n                      <div className=\"text-muted small mt-1\">\n                        When enabled, all active services will be available on your booking page.\n                        When disabled, you can select specific services below.\n                      </div>\n                    </div>\n                    \n                    {!config.showAllServices && (\n                      <div className=\"service-selection\">\n                        <div className=\"mb-3\">\n                          <button \n                            className=\"btn btn-sm btn-outline-primary mr-2\"\n                            onClick={() => toggleAllServices(true)}\n                          >\n                            Select All\n                          </button>\n                          <button \n                            className=\"btn btn-sm btn-outline-secondary\"\n                            onClick={() => toggleAllServices(false)}\n                          >\n                            Deselect All\n                          </button>\n                        </div>\n                        \n                        <div className=\"list-group\">\n                          {services.map(service => (\n                            <div \n                              key={service._id}\n                              className=\"list-group-item\"\n                            >\n                              <div className=\"form-check\">\n                                <input\n                                  type=\"checkbox\"\n                                  className=\"form-check-input\"\n                                  id={`service-${service._id}`}\n                                  checked={config.enabledServices.includes(service._id)}\n                                  onChange={() => handleServiceToggle(service._id)}\n                                />\n                                <label className=\"form-check-label\" htmlFor={`service-${service._id}`}>\n                                  <div className=\"d-flex justify-content-between w-100\">\n                                    <span><strong>{service.title}</strong></span>\n                                    <span className=\"text-muted\">${service.price?.amount || 0}</span>\n                                  </div>\n                                  <div className=\"text-muted small\">{service.description}</div>\n                                </label>\n                              </div>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            )}\n            \n            {/* Share Tab */}\n            {activeTab === 'share' && (\n              <div className=\"card\">\n                <div className=\"card-body\">\n                  <div className=\"settings-form\">\n                    <p className=\"mb-4\">\n                      Your booking page allows clients to schedule appointments directly. \n                      You can share this link with clients or add it to your website.\n                    </p>\n                    \n                    <div className=\"d-flex align-items-center mt-4 mb-4\">\n                      <div \n                        className=\"booking-url p-3 bg-light rounded flex-grow-1 mr-2\"\n                        style={{ \n                          border: '1px solid #dee2e6',\n                          overflowX: 'auto',\n                          whiteSpace: 'nowrap'\n                        }}\n                      >\n                        <a href={bookingPageUrl} target=\"_blank\" rel=\"noreferrer\">{bookingPageUrl}</a>\n                      </div>\n                      <button \n                        className=\"btn btn-primary ml-2\"\n                        onClick={() => copyToClipboard(bookingPageUrl)}\n                      >\n                        {copied ? 'Copied!' : 'Copy'}\n                      </button>\n                    </div>\n                    \n                    <h4 className=\"mt-4 mb-3\">Share Options</h4>\n                    <div className=\"row\">\n                      <div className=\"col-md-6\">\n                        <div className=\"card mb-3\">\n                          <div className=\"card-body\">\n                            <h5 className=\"card-title\">\n                              <i className=\"fas fa-link mr-2\"></i>\n                              Direct Link\n                            </h5>\n                            <p className=\"card-text\">Share this link directly with your clients via email, text messages, or social media.</p>\n                            <button\n                              className=\"btn btn-outline-primary\"\n                              onClick={() => copyToClipboard(bookingPageUrl)}\n                            >\n                              Copy Link\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"col-md-6\">\n                        <div className=\"card mb-3\">\n                          <div className=\"card-body\">\n                            <h5 className=\"card-title\">\n                              <i className=\"fas fa-code mr-2\"></i>\n                              Website Button\n                            </h5>\n                            <p className=\"card-text\">Add a \"Book Now\" button to your website that links to your booking page.</p>\n                            <div className=\"mt-2 mb-3\">\n                              <div \n                                className=\"bg-light p-2 rounded\"\n                                style={{ fontSize: '0.9rem', overflowX: 'auto' }}\n                              >\n                                {generateButtonCode()}\n                              </div>\n                            </div>\n                            <button\n                              className=\"btn btn-outline-primary\"\n                              onClick={() => copyToClipboard(generateButtonCode())}\n                            >\n                              Copy Code\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n            \n            {/* Preview Tab */}\n            {activeTab === 'preview' && (\n              <div className=\"card\">\n                <div className=\"card-body\">\n                  <div className=\"settings-form\">\n                    <p className=\"mb-4\">This is what your clients will see when they visit your booking page.</p>\n                    \n                    <div className=\"booking-preview mt-4\" style={{ border: '1px solid #dee2e6', borderRadius: '8px' }}>\n                      <div style={{ padding: '15px', borderBottom: '1px solid #dee2e6', backgroundColor: '#f8f9fa' }}>\n                        <h5 style={{ margin: 0 }}>Booking Page Preview</h5>\n                      </div>\n                      <div style={{ height: '600px', overflow: 'hidden', position: 'relative' }}>\n                        <div style={{ \n                          position: 'absolute', \n                          top: 0, \n                          left: 0, \n                          right: 0, \n                          bottom: 0, \n                          backgroundColor: 'rgba(255,255,255,0.7)', \n                          zIndex: 1, \n                          display: 'flex', \n                          alignItems: 'center', \n                          justifyContent: 'center', \n                          flexDirection: 'column' \n                        }}>\n                          <h4>Preview Mode</h4>\n                          <p className=\"mb-0\">This is how your booking page will appear to clients.</p>\n                          <a \n                            href={bookingPageUrl} \n                            target=\"_blank\" \n                            rel=\"noreferrer\"\n                            className=\"btn btn-primary mt-3\"\n                            style={{ backgroundColor: config.primaryColor, borderColor: config.primaryColor }}\n                          >\n                            Open actual booking page\n                          </a>\n                        </div>\n                        <iframe \n                          src={bookingPageUrl}\n                          title=\"Booking Page Preview\"\n                          style={{ border: 'none', width: '100%', height: '100%' }}\n                        />\n                      </div>\n                    </div>\n                    \n                    <div className=\"alert alert-info mt-4\">\n                      <strong>Tip:</strong> To ensure your clients can book appointments successfully, make sure you have services and availability configured in your account settings.\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default BookingPageSetup;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}